import{r as y,j as e}from"./ui-5WRyBZNT.js";import{P as R}from"./page-template-CKIx2Cd4.js";import{u as E,c as F,C as D,l as I,m as P,y as V,k as q,L as c,I as T,z as $,n as f,t as d,r as w}from"./app-Dcb6Z4yW.js";import{S as p,a as h,b as v,c as u,d as o}from"./select-DeRz6PSF.js";import"./textarea-LYs2mVcU.js";import"./language-WoaYFWNr.js";import"./trophy-CwLH3bof.js";import"./loader-circle-BHYyy5xm.js";import"./copy-CEvMX_m9.js";import"./CookieConsentBanner-DQyHDBeh.js";import"./switch-t9Hay6Hq.js";import"./index-CCaALC5E.js";import"./chevron-right-D-6n0McF.js";import"./credit-card-DqjaQidM.js";import"./dollar-sign-Cwr3Gu39.js";import"./users-CMrPg0xJ.js";import"./clock-bjnTPlpB.js";import"./calendar-DCWku5XV.js";import"./user-mASyYuwG.js";import"./use-favicon-DuYrl8Bg.js";import"./use-brand-theme-Bndhjp9t.js";/* empty css            *//* empty css                  */import"./utils-BkYo4WJR.js";import"./index-BdQq_4o_.js";function ce(){const{t:r}=E(),{employees:j,reviewCycles:S}=F().props,[l,_]=y.useState({employee_id:"",reviewer_id:"",review_cycle_id:"",review_date:"",status:"scheduled"}),[i,n]=y.useState({}),g=s=>{const{name:t,value:a}=s.target;_(x=>({...x,[t]:a})),i[t]&&n(x=>({...x,[t]:null}))},m=(s,t)=>{_(a=>({...a,[s]:t})),i[s]&&n(a=>({...a,[s]:null}))},C=s=>{s.preventDefault();const t={};if(l.employee_id||(t.employee_id=r("Employee is required")),l.reviewer_id||(t.reviewer_id=r("Reviewer is required")),l.review_cycle_id||(t.review_cycle_id=r("Review cycle is required")),l.review_date||(t.review_date=r("Review date is required")),Object.keys(t).length>0){n(t);return}d.loading(r("Scheduling employee review...")),w.post(route("hr.performance.employee-reviews.store"),l,{onSuccess:a=>{d.dismiss(),a.props.flash.success&&d.success(r(a.props.flash.success)),w.visit(route("hr.performance.employee-reviews.index"))},onError:a=>{d.dismiss(),n(a),typeof a=="string"?d.error(r(a)):d.error(r("Failed to schedule employee review"))}})},N=()=>{w.visit(route("hr.performance.employee-reviews.index"))},b=[{title:r("Dashboard"),href:route("dashboard")},{title:r("HR Management"),href:route("hr.performance.employee-reviews.index")},{title:r("Performance"),href:route("hr.performance.employee-reviews.index")},{title:r("Employee Reviews"),href:route("hr.performance.employee-reviews.index")},{title:r("Schedule Review")}];return e.jsx(R,{title:r("Schedule Employee Review"),url:"/hr/performance/employee-reviews/create",breadcrumbs:b,children:e.jsx("form",{onSubmit:C,children:e.jsxs(D,{children:[e.jsxs(I,{children:[e.jsx(P,{children:r("Schedule New Review")}),e.jsx(V,{children:r("Create a new performance review for an employee")})]}),e.jsx(q,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"employee_id",children:[r("Employee")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(p,{value:l.employee_id,onValueChange:s=>m("employee_id",s),children:[e.jsx(h,{className:i.employee_id?"border-red-500":"",children:e.jsx(v,{placeholder:r("Select employee")})}),e.jsx(u,{searchable:!0,children:j.map(s=>e.jsx(o,{value:s.id.toString(),children:`${s.name} (${s.employee_id})`},s.id))})]}),i.employee_id&&e.jsx("p",{className:"text-red-500 text-sm",children:i.employee_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"reviewer_id",children:[r("Reviewer")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(p,{value:l.reviewer_id,onValueChange:s=>m("reviewer_id",s),children:[e.jsx(h,{className:i.reviewer_id?"border-red-500":"",children:e.jsx(v,{placeholder:r("Select reviewer")})}),e.jsx(u,{searchable:!0,children:j.map(s=>e.jsx(o,{value:s.id.toString(),children:`${s.name} (${s.employee_id})`},s.id))})]}),i.reviewer_id&&e.jsx("p",{className:"text-red-500 text-sm",children:i.reviewer_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"review_cycle_id",children:[r("Review Cycle")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(p,{value:l.review_cycle_id,onValueChange:s=>m("review_cycle_id",s),children:[e.jsx(h,{className:i.review_cycle_id?"border-red-500":"",children:e.jsx(v,{placeholder:r("Select review cycle")})}),e.jsx(u,{searchable:!0,children:S.map(s=>e.jsx(o,{value:s.id.toString(),children:s.name},s.id))})]}),i.review_cycle_id&&e.jsx("p",{className:"text-red-500 text-sm",children:i.review_cycle_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"review_date",children:[r("Review Date")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(T,{id:"review_date",name:"review_date",type:"date",value:l.review_date,onChange:g,className:i.review_date?"border-red-500":""}),i.review_date&&e.jsx("p",{className:"text-red-500 text-sm",children:i.review_date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"status",children:r("Status")}),e.jsxs(p,{value:l.status,onValueChange:s=>m("status",s),children:[e.jsx(h,{children:e.jsx(v,{placeholder:r("Select status")})}),e.jsxs(u,{children:[e.jsx(o,{value:"scheduled",children:r("Scheduled")}),e.jsx(o,{value:"in_progress",children:r("In Progress")})]})]})]})]})}),e.jsxs($,{className:"flex justify-between",children:[e.jsx(f,{type:"button",variant:"outline",onClick:N,children:r("Cancel")}),e.jsx(f,{type:"submit",children:r("Schedule Review")})]})]})})})}export{ce as default};
