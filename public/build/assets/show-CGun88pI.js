import{j as e}from"./ui-5WRyBZNT.js";import{P as I}from"./page-template-CKIx2Cd4.js";import{u as T,c as L,n as g,w as z,C as N,l as y,m as w,y as b,k as C,B as l,r as R}from"./app-Dcb6Z4yW.js";import{A}from"./arrow-left-2RHqSM1t.js";import{C as F}from"./clipboard-list-BeCtsJjD.js";import{S as k}from"./star-C6nMG0b0.js";import"./textarea-LYs2mVcU.js";import"./select-DeRz6PSF.js";import"./index-BdQq_4o_.js";import"./index-CCaALC5E.js";import"./language-WoaYFWNr.js";import"./trophy-CwLH3bof.js";import"./loader-circle-BHYyy5xm.js";import"./copy-CEvMX_m9.js";import"./CookieConsentBanner-DQyHDBeh.js";import"./switch-t9Hay6Hq.js";import"./chevron-right-D-6n0McF.js";import"./credit-card-DqjaQidM.js";import"./dollar-sign-Cwr3Gu39.js";import"./users-CMrPg0xJ.js";import"./clock-bjnTPlpB.js";import"./calendar-DCWku5XV.js";import"./user-mASyYuwG.js";import"./use-favicon-DuYrl8Bg.js";import"./use-brand-theme-Bndhjp9t.js";/* empty css            *//* empty css                  */import"./utils-BkYo4WJR.js";function he(){var o,x,h,p,j,u;const{t:s}=T(),{review:t,auth:d}=L().props,S=(d==null?void 0:d.permissions)||[],_=i=>{switch(i){case"scheduled":return e.jsx(l,{variant:"outline",className:"bg-blue-50 text-blue-700 ring-1 ring-inset ring-blue-600/20",children:s("Scheduled")});case"in_progress":return e.jsx(l,{variant:"outline",className:"bg-amber-50 text-amber-700 ring-1 ring-inset ring-amber-600/20",children:s("In Progress")});case"completed":return e.jsx(l,{variant:"outline",className:"bg-green-50 text-green-700 ring-1 ring-inset ring-green-600/20",children:s("Completed")});default:return e.jsx(l,{variant:"outline",children:i})}},B=()=>{R.visit(route("hr.performance.employee-reviews.conduct",t.id))},D=()=>{R.visit(route("hr.performance.employee-reviews.index"))},P=[{title:s("Dashboard"),href:route("dashboard")},{title:s("HR Management"),href:route("hr.performance.indicator-categories.index")},{title:s("Performance"),href:route("hr.performance.indicator-categories.index")},{title:s("Employee Reviews"),href:route("hr.performance.employee-reviews.index")},{title:s("View Review")}],E=(o=t.ratings)==null?void 0:o.reduce((i,r)=>{var n,m,v,f;const a=((m=(n=r.indicator)==null?void 0:n.category)==null?void 0:m.id)||"uncategorized",c=((f=(v=r.indicator)==null?void 0:v.category)==null?void 0:f.name)||"Uncategorized";return i[a]||(i[a]={name:c,ratings:[]}),i[a].ratings.push(r),i},{});return e.jsx(I,{title:s("Review Details"),url:`/hr/performance/employee-reviews/${t.id}`,breadcrumbs:P,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(g,{variant:"outline",onClick:D,children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),s("Back to Reviews")]}),t.status!=="completed"&&z(S,"edit-employee-reviews")&&e.jsxs(g,{onClick:B,children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),s("Conduct Review")]})]}),e.jsxs(N,{children:[e.jsxs(y,{children:[e.jsx(w,{children:s("Review Information")}),e.jsx(b,{children:s("Details about this performance review")})]}),e.jsxs(C,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:s("Employee")}),e.jsx("p",{className:"mt-1 text-base font-semibold",children:(x=t.employee)==null?void 0:x.name})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:s("Reviewer")}),e.jsx("p",{className:"mt-1 text-base font-semibold",children:(h=t.reviewer)==null?void 0:h.name})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:s("Review Cycle")}),e.jsx("p",{className:"mt-1 text-base font-semibold",children:(p=t.review_cycle)==null?void 0:p.name})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:s("Review Date")}),e.jsx("p",{className:"mt-1 text-base font-semibold",children:t.review_date?((j=window.appSettings)==null?void 0:j.formatDateTimeSimple(t.review_date,!1))||new Date(t.review_date).toLocaleString():"-"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:s("Status")}),e.jsx("div",{className:"mt-1",children:_(t.status)})]})]})]}),t.status==="completed"&&e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",children:s("Overall Rating")}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl font-bold mr-2",children:(u=t.overall_rating)==null?void 0:u.toFixed(1)}),e.jsx(k,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"})]})]}),t.comments&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:s("Comments")}),e.jsx("p",{className:"mt-1 text-base",children:t.comments})]})]})]})]}),t.status==="completed"&&e.jsxs(N,{children:[e.jsxs(y,{children:[e.jsx(w,{children:s("Performance Ratings")}),e.jsx(b,{children:s("Individual ratings for each performance indicator")})]}),e.jsx(C,{children:e.jsx("div",{className:"space-y-6",children:Object.values(E||{}).map(i=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium text-lg",children:i.name}),e.jsx("div",{className:"space-y-4",children:i.ratings.map(r=>{var a,c,n,m;return e.jsxs("div",{className:"border rounded-md p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:(a=r.indicator)==null?void 0:a.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:((c=r.indicator)==null?void 0:c.description)||s("No description")}),((n=r.indicator)==null?void 0:n.measurement_unit)&&e.jsx(l,{variant:"outline",className:"mt-2",children:(m=r.indicator)==null?void 0:m.measurement_unit})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xl font-bold mr-2",children:r.rating.toFixed(1)}),e.jsx(k,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"})]})]}),r.comments&&e.jsxs("div",{className:"mt-3 pt-3 border-t",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:s("Comments")}),e.jsx("p",{className:"mt-1 text-sm",children:r.comments})]})]},r.id)})})]},i.name))})})]})]})})}export{he as default};
