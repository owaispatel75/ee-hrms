import{j as e}from"./ui-5WRyBZNT.js";import{P as w}from"./PageWrapper-C3c9rfMx.js";import{u as _,c as v,d as k,n as C,C as l,k as d,B as m}from"./app-Dcb6Z4yW.js";import{P as T}from"./pagination-BW8eSOCk.js";import{T as S,a as D,b as c,c as $,d as P,e as g}from"./table-CVC2OwXt.js";import{A as U}from"./arrow-left-2RHqSM1t.js";import{D as j}from"./dollar-sign-Cwr3Gu39.js";import{T as A}from"./trending-up-ClbmsTa0.js";import{U as B}from"./users-CMrPg0xJ.js";import"./page-template-CKIx2Cd4.js";import"./textarea-LYs2mVcU.js";import"./select-DeRz6PSF.js";import"./index-BdQq_4o_.js";import"./index-CCaALC5E.js";import"./language-WoaYFWNr.js";import"./trophy-CwLH3bof.js";import"./loader-circle-BHYyy5xm.js";import"./copy-CEvMX_m9.js";import"./CookieConsentBanner-DQyHDBeh.js";import"./switch-t9Hay6Hq.js";import"./chevron-right-D-6n0McF.js";import"./credit-card-DqjaQidM.js";import"./clock-bjnTPlpB.js";import"./calendar-DCWku5XV.js";import"./user-mASyYuwG.js";import"./use-favicon-DuYrl8Bg.js";import"./use-brand-theme-Bndhjp9t.js";/* empty css            *//* empty css                  */import"./utils-BkYo4WJR.js";import"./ellipsis-CcCiYkNb.js";import"./chevron-left-CAhfRZ8t.js";function pe(){var x,p,u,h;const{t:s}=_(),{coupon:t,usage_history:n}=v().props,f=[{title:s("Dashboard"),href:route("dashboard")},{title:s("Coupons"),href:route("coupons.index")},{title:t.name}],o=[{key:"user_name",label:s("User"),sortable:!0},{key:"user_email",label:s("Email"),sortable:!0},{key:"order_id",label:s("Order ID"),sortable:!0},{key:"amount",label:s("Order Amount"),render:r=>{var a;return((a=window.appSettings)==null?void 0:a.formatCurrency(r))||`$${r.toFixed(2)}`}},{key:"discount_amount",label:s("Discount Applied"),render:r=>{var a;return((a=window.appSettings)==null?void 0:a.formatCurrency(r))||`$${r.toFixed(2)}`}},{key:"used_at",label:s("Used At"),sortable:!0,render:r=>{var a;return((a=window.appSettings)==null?void 0:a.formatDateTime(r))||r}}],b=(r,a)=>{var i;return r==="percentage"?`${a}%`:((i=window.appSettings)==null?void 0:i.formatCurrency(a))||`$${a.toFixed(2)}`},N=r=>r?e.jsx(m,{className:"bg-green-100 text-green-800",children:s("Active")}):e.jsx(m,{className:"bg-red-100 text-red-800",children:s("Inactive")}),y=r=>{const a=r==="percentage"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800",i=s(r==="percentage"?"Percentage":"Flat Amount");return e.jsx(m,{className:a,children:i})};return e.jsx(w,{breadcrumbs:f,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(k,{href:route("coupons.index"),children:e.jsxs(C,{variant:"outline",size:"sm",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),s("Back to Coupons")]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:t.name}),e.jsx("p",{className:"text-gray-600",children:s("Coupon Details & Usage History")})]})]}),N(t.status)]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(l,{children:e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:s("Discount Value")}),e.jsx("h3",{className:"mt-2 text-2xl font-bold",children:b(t.type,t.discount_amount)})]}),e.jsx("div",{className:"rounded-full bg-blue-100 p-3 dark:bg-blue-900",children:e.jsx(j,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),e.jsx(l,{children:e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:s("Times Used")}),e.jsxs("h3",{className:"mt-2 text-2xl font-bold",children:[t.used_count,t.use_limit_per_coupon&&` / ${t.use_limit_per_coupon}`]})]}),e.jsx("div",{className:"rounded-full bg-green-100 p-3 dark:bg-green-900",children:e.jsx(A,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})})}),e.jsx(l,{children:e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:s("User Limit")}),e.jsxs("h3",{className:"mt-2 text-2xl font-bold",children:[" ",t.use_limit_per_user||s("Unlimited")]})]}),e.jsx("div",{className:"rounded-full bg-purple-100 p-3 dark:bg-purple-900",children:e.jsx(B,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})})]})})}),e.jsx(l,{children:e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:s("Expires")}),e.jsxs("h3",{className:"mt-2 text-2xl font-bold",children:[" ",t.expiry_date?((x=window.appSettings)==null?void 0:x.formatDateTime(t.expiry_date,!1))||t.expiry_date:s("Never")]})]}),e.jsx("div",{className:"rounded-full bg-orange-100 p-3 dark:bg-orange-900",children:e.jsx(j,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})})]})})})]}),e.jsxs(l,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:s("Coupon Information")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:s("Coupon Code")}),e.jsx("p",{className:"text-lg font-mono bg-gray-100 px-3 py-2 rounded",children:t.code})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:s("Type")}),e.jsx("div",{className:"mt-1",children:y(t.type)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:s("Created By")}),e.jsxs("p",{className:"text-sm",children:[t.creator.name," (",t.creator.email,")"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[t.minimum_spend&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:s("Minimum Spend")}),e.jsx("p",{className:"text-sm",children:((p=window.appSettings)==null?void 0:p.formatCurrency(t.minimum_spend))||`$${t.minimum_spend.toFixed(2)}`})]}),t.maximum_spend&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:s("Maximum Spend")}),e.jsx("p",{className:"text-sm",children:((u=window.appSettings)==null?void 0:u.formatCurrency(t.maximum_spend))||`$${t.maximum_spend.toFixed(2)}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-600",children:s("Created At")}),e.jsx("p",{className:"text-sm",children:((h=window.appSettings)==null?void 0:h.formatDateTime(t.created_at))||t.created_at})]})]})]})]}),e.jsxs(l,{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:s("Usage History")}),e.jsx("div",{className:"border rounded-lg",children:e.jsxs(S,{children:[e.jsx(D,{children:e.jsx(c,{children:o.map(r=>e.jsx($,{children:r.label},r.key))})}),e.jsx(P,{children:n.data&&n.data.length>0?n.data.map((r,a)=>e.jsx(c,{children:o.map(i=>e.jsx(g,{children:i.render?i.render(r[i.key]):r[i.key]},i.key))},a)):e.jsx(c,{children:e.jsx(g,{colSpan:o.length,className:"text-center py-8 text-gray-500",children:s("No usage history found")})})})]})}),n.last_page>1&&e.jsx("div",{className:"mt-4 border rounded-lg dark:border-gray-700 overflow-hidden",children:e.jsx(T,{from:n.from||0,to:n.to||0,total:n.total||0,currentPage:n.current_page,lastPage:n.last_page,entityName:s("records"),onPageChange:r=>{const i=new URL(r,window.location.origin).searchParams.get("page");window.location.href=route("coupons.show",{coupon:t.id,page:i})}})})]})]})})}export{pe as default};
