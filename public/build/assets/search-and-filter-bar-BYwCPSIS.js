import{r as f,j as e}from"./ui-5WRyBZNT.js";import{I as C,u as E,S as y,n as i,e as p,L as I}from"./app-Dcb6Z4yW.js";import{S as b,a as v,b as N,c as w,d as k}from"./select-DeRz6PSF.js";import{f as S}from"./utils-BkYo4WJR.js";import{C as R}from"./calendar-DCWku5XV.js";import{F as B}from"./filter-CUtbTrvr.js";import{L as P}from"./list-DOApis6K.js";import{L as T}from"./trophy-CwLH3bof.js";function _({selected:l,onSelect:t,onChange:d,placeholder:o="Pick a date",disabled:n=!1}){const[h,s]=f.useState(l?S(l,"yyyy-MM-dd"):""),u=m=>{if(s(m.target.value),m.target.value){const c=new Date(m.target.value);t&&t(c),d&&d(c)}else t&&t(void 0),d&&d(void 0)};return f.useEffect(()=>{s(l?S(l,"yyyy-MM-dd"):"")},[l]),e.jsxs("div",{className:"relative",children:[e.jsx(R,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(C,{type:"date",value:h,onChange:u,className:"pl-9 w-[240px]",disabled:n})]})}function Q({searchTerm:l,onSearchChange:t,onSearch:d,filters:o=[],showFilters:n,setShowFilters:h,hasActiveFilters:s,activeFilterCount:u,onResetFilters:m,onApplyFilters:c,perPageOptions:z=[10,25,50,100],currentPerPage:L,onPerPageChange:D,showViewToggle:M=!1,activeView:j="list",onViewChange:g}){const{t:r}=E();return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[e.jsxs("form",{onSubmit:d,className:"flex gap-2 w-full md:w-auto",children:[e.jsxs("div",{className:"relative w-full md:w-72",children:[e.jsx(y,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(C,{placeholder:r("Search by name, email..."),value:l,onChange:a=>t(a.target.value),className:"w-full pl-9 bg-gray-50/50 dark:bg-gray-900/50 border-gray-200 dark:border-gray-800 focus:bg-white dark:focus:bg-gray-900 transition-colors"})]}),e.jsxs(i,{type:"submit",size:"sm",className:"hidden md:flex",children:[e.jsx(y,{className:"h-4 w-4 mr-1.5"}),r("Search")]})]}),o.length>0&&e.jsx("div",{className:"ml-0 md:ml-2",children:e.jsxs(i,{variant:s()?"secondary":"outline",size:"sm",className:p("h-9 border-dashed",s()&&"border-solid"),onClick:()=>h(!n),children:[e.jsx(B,{className:"h-3.5 w-3.5 mr-1.5"}),r(n?"Hide":"Filters"),s()&&e.jsx("span",{className:"ml-1.5 bg-primary text-primary-foreground rounded-full w-5 h-5 flex items-center justify-center text-[10px] font-bold",children:u()})]})})]}),e.jsxs("div",{className:"flex items-center justify-between md:justify-end gap-3 w-full md:w-auto",children:[M&&g&&e.jsxs("div",{className:"bg-gray-100/50 dark:bg-gray-800/50 p-1 rounded-lg border border-gray-200 dark:border-gray-700 flex items-center",children:[e.jsx(i,{size:"sm",variant:"ghost",className:p("h-7 w-8 px-0 rounded-md transition-all",j==="list"?"bg-white dark:bg-gray-700 shadow-sm text-primary":"text-gray-500 hover:text-gray-700"),onClick:()=>g("list"),children:e.jsx(P,{className:"h-4 w-4"})}),e.jsx(i,{size:"sm",variant:"ghost",className:p("h-7 w-8 px-0 rounded-md transition-all",j==="grid"?"bg-white dark:bg-gray-700 shadow-sm text-primary":"text-gray-500 hover:text-gray-700"),onClick:()=>g("grid"),children:e.jsx(T,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 whitespace-nowrap hidden sm:inline-block",children:r("Rows:")}),e.jsxs(b,{value:L,onValueChange:D,children:[e.jsx(v,{className:"w-16 h-8 text-xs",children:e.jsx(N,{})}),e.jsx(w,{children:z.map(a=>e.jsx(k,{value:a.toString(),className:"text-xs",children:a},a))})]})]})]})]}),n&&o.length>0&&e.jsx("div",{className:"w-full mt-4 p-4 bg-gray-50/50 dark:bg-gray-800/50 border border-dashed border-gray-200 dark:border-gray-700 rounded-lg animate-in fade-in slide-in-from-top-2 duration-200",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[o.map(a=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{children:a.label}),a.type==="select"&&a.options&&e.jsxs(b,{value:a.value,onValueChange:a.onChange,children:[e.jsx(v,{className:"w-40",children:e.jsx(N,{placeholder:r(`All ${a.label}`)})}),e.jsx(w,{searchable:a.searchable,children:a.options.map(x=>e.jsx(k,{value:x.value||"_empty_",disabled:x.disabled,children:x.label},x.value||"empty"))})]}),a.type==="date"&&e.jsx(_,{selected:a.value,onSelect:a.onChange,onChange:a.onChange})]},a.name)),e.jsxs("div",{className:"flex gap-2",children:[c&&e.jsx(i,{variant:"default",size:"sm",className:"h-9",onClick:c,children:r("Apply Filters")}),e.jsx(i,{variant:"outline",size:"sm",className:"h-9",onClick:m,disabled:!s(),children:r("Reset Filters")})]})]})})]})}export{Q as S};
