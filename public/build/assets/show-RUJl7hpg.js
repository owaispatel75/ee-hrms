import{j as e}from"./ui-5WRyBZNT.js";import{P as S}from"./page-template-CKIx2Cd4.js";import{u as C,c as D,r as d,t as o,C as i,l as n,m as l,k as m}from"./app-Dcb6Z4yW.js";import{C as k}from"./CrudTable-bZrcaGsl.js";import{A as v}from"./arrow-left-2RHqSM1t.js";import{D as P}from"./download-D7x9V5HF.js";import{U as T}from"./users-CMrPg0xJ.js";import{D as p}from"./dollar-sign-Cwr3Gu39.js";import"./textarea-LYs2mVcU.js";import"./select-DeRz6PSF.js";import"./index-BdQq_4o_.js";import"./index-CCaALC5E.js";import"./language-WoaYFWNr.js";import"./trophy-CwLH3bof.js";import"./loader-circle-BHYyy5xm.js";import"./copy-CEvMX_m9.js";import"./CookieConsentBanner-DQyHDBeh.js";import"./switch-t9Hay6Hq.js";import"./chevron-right-D-6n0McF.js";import"./credit-card-DqjaQidM.js";import"./clock-bjnTPlpB.js";import"./calendar-DCWku5XV.js";import"./user-mASyYuwG.js";import"./use-favicon-DuYrl8Bg.js";import"./use-brand-theme-Bndhjp9t.js";/* empty css            *//* empty css                  */import"./utils-BkYo4WJR.js";import"./table-CVC2OwXt.js";import"./unlink-M-7GhMDo.js";import"./wrench-EpLqRNAD.js";import"./ticket-49lGndAA.js";import"./lock-open-C1AE0wa5.js";import"./award-Ds8Pn3VU.js";import"./ban-CoJEhB2G.js";import"./wallet-V5ITs3Yp.js";import"./bell-DGfoV3HU.js";import"./building-2-NAKjIPfs.js";import"./building-Yd460mDP.js";import"./trending-down-uJsbmf-r.js";import"./camera-8w012zob.js";import"./chart-column-B4Juta60.js";import"./chart-no-axes-column-increasing-CxynlTOn.js";import"./chevron-left-CAhfRZ8t.js";import"./circle-alert-DyiJ_7fc.js";import"./circle-check-big-DvjFjVFs.js";import"./circle-check-SPi-Xvck.js";import"./circle-CTH8Grzw.js";import"./clipboard-list-BeCtsJjD.js";import"./zap-C99Wcc2V.js";import"./ellipsis-CcCiYkNb.js";import"./external-link-jFGKNT7b.js";import"./eye-off-ZW0JdLst.js";import"./eye-BauIsDws.js";import"./filter-CUtbTrvr.js";import"./rotate-ccw-C8Q-gmhj.js";import"./hard-drive-B2P2rmjY.js";import"./info-DMPjqPji.js";import"./key-CGMSITmc.js";import"./lightbulb-CAdzOdqD.js";import"./link-2-DCTQflBu.js";import"./list-DOApis6K.js";import"./lock-DTdsSPVo.js";import"./mail-DLXHGnVS.js";import"./map-pin-zN3uCaOh.js";import"./phone-C8cPu9FG.js";import"./printer-ChUpiFfe.js";import"./refresh-cw-BLGufQC4.js";import"./send-COw_7dkc.js";import"./server-B9axTPGI.js";import"./square-pen-B2niO3pF.js";import"./star-C6nMG0b0.js";import"./trash-2-CeLXIVfe.js";import"./trash-BE31V_4e.js";import"./trending-up-ClbmsTa0.js";import"./triangle-alert-Bgud0J1k.js";import"./user-plus-Dd4He1MR.js";function et(){var x,y,u,f,h,g,j;const{t}=C(),{payrollRun:a}=D().props,w=[{title:t("Dashboard"),href:route("dashboard")},{title:t("Payroll Management"),href:route("hr.payroll-runs.index")},{title:t("Payroll Runs"),href:route("hr.payroll-runs.index")},{title:a.title}],c=[{label:t("Back to List"),icon:e.jsx(v,{className:"h-4 w-4 mr-2"}),variant:"outline",onClick:()=>d.get(route("hr.payroll-runs.index"))}];a.status==="completed"&&c.unshift({label:t("Generate Payslips"),icon:e.jsx(P,{className:"h-4 w-4 mr-2"}),variant:"default",onClick:()=>N()});const N=()=>{o.loading(t("Generating payslips...")),d.post(route("hr.payslips.bulk-generate"),{payroll_run_id:a.id},{onSuccess:r=>{o.dismiss(),r.props.flash.success?(o.success(t(r.props.flash.success)),setTimeout(()=>{d.get(route("hr.payslips.index"))},1e3)):r.props.flash.error&&o.error(t(r.props.flash.error))},onError:r=>{o.dismiss(),typeof r=="string"?o.error(r):o.error("Failed to generate payslips")}})},_=r=>{const s={draft:"bg-gray-50 text-gray-700 ring-gray-600/20",processing:"bg-yellow-50 text-yellow-700 ring-yellow-600/20",completed:"bg-green-50 text-green-700 ring-green-600/20",cancelled:"bg-red-50 text-red-700 ring-red-600/20"};return s[r]||s.draft};return e.jsxs(S,{title:a.title,url:`/hr/payroll-runs/${a.id}`,actions:c,breadcrumbs:w,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsxs(i,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:t("Total Employees")}),e.jsx(T,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(m,{children:e.jsx("div",{className:"text-2xl font-bold",children:a.employee_count})})]}),e.jsxs(i,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:t("Gross Pay")}),e.jsx(p,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(m,{children:e.jsx("div",{className:"text-2xl font-bold text-green-600",children:(x=window.appSettings)==null?void 0:x.formatCurrency(a.total_gross_pay)})})]}),e.jsxs(i,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:t("Total Deductions")}),e.jsx(p,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(m,{children:e.jsx("div",{className:"text-2xl font-bold text-red-600",children:(y=window.appSettings)==null?void 0:y.formatCurrency(a.total_deductions)})})]}),e.jsxs(i,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:t("Net Pay")}),e.jsx(p,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(m,{children:e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(u=window.appSettings)==null?void 0:u.formatCurrency(a.total_net_pay)})})]})]}),e.jsxs(i,{className:"mb-6",children:[e.jsx(n,{children:e.jsx(l,{children:t("Payroll Run Details")})}),e.jsxs(m,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:t("Pay Period")}),e.jsxs("p",{className:"text-sm",children:[((f=window.appSettings)==null?void 0:f.formatDateTimeSimple(a.pay_period_start,!1))||new Date(a.pay_period_start).toLocaleDateString()," - ",((h=window.appSettings)==null?void 0:h.formatDateTimeSimple(a.pay_period_end,!1))||new Date(a.pay_period_end).toLocaleDateString()]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:t("Pay Date")}),e.jsx("p",{className:"text-sm",children:((g=window.appSettings)==null?void 0:g.formatDateTimeSimple(a.pay_date,!1))||new Date(a.pay_date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:t("Payroll Frequency")}),e.jsx("p",{className:"text-sm",children:e.jsx("span",{className:"inline-flex items-center rounded-md bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700 ring-1 ring-inset ring-blue-700/10",children:a.payroll_frequency==="weekly"?t("Weekly"):a.payroll_frequency==="biweekly"?t("Bi-Weekly"):t("Monthly")})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:t("Status")}),e.jsx("p",{children:e.jsx("span",{className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset ${_(a.status)}`,children:t(a.status)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:t("Created At")}),e.jsx("p",{className:"text-sm",children:((j=window.appSettings)==null?void 0:j.formatDateTimeSimple(a.created_at,!1))||new Date(a.created_at).toLocaleDateString()})]})]}),a.notes&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:t("Notes")}),e.jsx("p",{className:"text-sm mt-1",children:a.notes})]})]})]}),e.jsxs(i,{children:[e.jsxs(n,{children:[e.jsx(l,{children:t("Employee Payroll Entries")}),e.jsxs("div",{className:"mt-2 p-3 bg-blue-50 rounded-md space-y-2",children:[e.jsxs("p",{className:"text-sm text-blue-800 font-medium",children:[t("Gross Pay Formula")," : ",e.jsx("span",{className:"font-mono",children:"Total Earnings (Basic Salary + Component Earning) - Unpaid Leave Deduction + Overtime Earnings"})]}),e.jsxs("p",{className:"text-sm text-blue-800 font-medium",children:[t("Net Salary Formula")," : ",e.jsx("span",{className:"font-mono",children:"Gross Pay - Total Deductions"})]})]})]}),e.jsx(m,{children:e.jsx(k,{columns:[{key:"employee",label:t("Employee"),render:(r,s)=>{var b;return((b=s.employee)==null?void 0:b.name)||"-"}},{key:"basic_salary",label:t("Basic Salary"),render:r=>{var s;return e.jsx("span",{className:"font-mono text-gray-900",children:(s=window.appSettings)==null?void 0:s.formatCurrency(r)})}},{key:"per_day_salary",label:t("Per Day Salary"),render:r=>{var s;return e.jsx("span",{className:"font-mono text-green-600",children:(s=window.appSettings)==null?void 0:s.formatCurrency(r||0)})}},{key:"component_earnings",label:t("Component Earnings"),render:r=>{var s;return e.jsx("span",{className:"font-mono text-blue-600",children:(s=window.appSettings)==null?void 0:s.formatCurrency(r||0)})}},{key:"total_earnings",label:t("Total Earning"),render:r=>{var s;return e.jsx("span",{className:"font-mono text-blue-600",children:(s=window.appSettings)==null?void 0:s.formatCurrency(r||0)})}},{key:"working_days",label:t("Working Days"),render:r=>r||0},{key:"present_days",label:t("Present Days"),render:r=>r||0},{key:"overtime_hours",label:t("Overtime Hours"),render:r=>`${r||0}h`},{key:"overtime_amount",label:t("Overtime Earnings"),render:r=>{var s;return e.jsx("span",{className:"font-mono text-green-600",children:(s=window.appSettings)==null?void 0:s.formatCurrency(r||0)})}},{key:"unpaid_leave_deduction",label:t("Leave Deductions"),render:r=>{var s;return e.jsx("span",{className:"font-mono text-red-600",children:(s=window.appSettings)==null?void 0:s.formatCurrency(r||0)})}},{key:"gross_pay",label:t("Gross Pay"),render:r=>{var s;return e.jsx("span",{className:"font-mono text-green-600",children:(s=window.appSettings)==null?void 0:s.formatCurrency(r)})}},{key:"total_deductions",label:t("Component Deduction"),render:r=>{var s;return e.jsx("span",{className:"font-mono text-red-600",children:(s=window.appSettings)==null?void 0:s.formatCurrency(r)})}},{key:"net_pay",label:t("Net Pay"),render:r=>{var s;return e.jsx("span",{className:"font-mono text-blue-600 font-bold",children:(s=window.appSettings)==null?void 0:s.formatCurrency(r)})}}],data:a.payroll_entries||[],from:1,onAction:()=>{},permissions:[],entityPermissions:{},actions:[],showActions:!1})})]})]})}export{et as default};
