import{r as l,j as e}from"./ui-5WRyBZNT.js";import{P as T}from"./page-template-CKIx2Cd4.js";import{u as E,c as C,n as j,e as D}from"./app-Dcb6Z4yW.js";import{S as k}from"./scroll-area-BNTU7Fcp.js";import{T as I}from"./toaster-AgvOF9P6.js";import U from"./referral-dashboard-CmKiCof4.js";import B from"./payout-requests-CevOdvNZ.js";import L from"./referral-settings-BD_6_xLO.js";import{C as A}from"./chart-column-B4Juta60.js";import{U as V}from"./users-CMrPg0xJ.js";import{D as Y}from"./dollar-sign-Cwr3Gu39.js";import{b as z}from"./trophy-CwLH3bof.js";import"./textarea-LYs2mVcU.js";import"./select-DeRz6PSF.js";import"./index-BdQq_4o_.js";import"./index-CCaALC5E.js";import"./language-WoaYFWNr.js";import"./loader-circle-BHYyy5xm.js";import"./copy-CEvMX_m9.js";import"./CookieConsentBanner-DQyHDBeh.js";import"./switch-t9Hay6Hq.js";import"./chevron-right-D-6n0McF.js";import"./credit-card-DqjaQidM.js";import"./clock-bjnTPlpB.js";import"./calendar-DCWku5XV.js";import"./user-mASyYuwG.js";import"./use-favicon-DuYrl8Bg.js";import"./use-brand-theme-Bndhjp9t.js";/* empty css            *//* empty css                  */import"./utils-BkYo4WJR.js";import"./trending-up-ClbmsTa0.js";import"./award-Ds8Pn3VU.js";import"./table-CVC2OwXt.js";function Ne(){const{t:r}=E(),{props:c}=C(),{userType:o,settings:m,stats:f,payoutRequests:g,referralLink:R,currencySymbol:n,globalSettings:N}=c,[w,i]=l.useState("dashboard"),y=[{title:r("Dashboard"),href:route("dashboard")},{title:r("Referral Program")}],v=[{title:r("Dashboard"),href:"#dashboard",icon:e.jsx(A,{className:"h-4 w-4 mr-2"})},{title:r("Referred Users"),href:route("referral.referred-users"),icon:e.jsx(V,{className:"h-4 w-4 mr-2"}),external:!0},{title:r("Payout Requests"),href:"#payout-requests",icon:e.jsx(Y,{className:"h-4 w-4 mr-2"})},...o==="superadmin"?[{title:r("Settings"),href:"#settings",icon:e.jsx(z,{className:"h-4 w-4 mr-2"})}]:[]],d=l.useRef(null),h=l.useRef(null),p=l.useRef(null);l.useEffect(()=>{const s=()=>{var u,x,b;const t=window.scrollY+100;(u=d.current)!=null&&u.offsetTop;const P=((x=h.current)==null?void 0:x.offsetTop)||0,q=((b=p.current)==null?void 0:b.offsetTop)||0;o==="superadmin"&&t>=q?i("settings"):t>=P?i("payout-requests"):i("dashboard")};window.addEventListener("scroll",s);const a=window.location.hash.replace("#","");if(a){const t=document.getElementById(a);t&&(t.scrollIntoView({behavior:"smooth"}),i(a))}return()=>{window.removeEventListener("scroll",s)}},[o]);const S=s=>{const a=s.replace("#",""),t=document.getElementById(a);t&&(t.scrollIntoView({behavior:"smooth"}),i(a))};return e.jsxs(T,{breadcrumbs:y,title:r("Referral Program"),url:"/referral",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"md:w-64 flex-shrink-0",children:e.jsx("div",{className:"sticky top-20",children:e.jsx(k,{className:"h-[calc(100vh-5rem)]",children:e.jsx("div",{className:"pr-4 space-y-1",children:v.map(s=>s.external?e.jsx(j,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:e.jsxs("a",{href:s.href,children:[s.icon,s.title]})},s.href):e.jsxs(j,{variant:"ghost",className:D("w-full justify-start",{"bg-muted font-medium":w===s.href.replace("#","")}),onClick:()=>S(s.href),children:[s.icon,s.title]},s.href))})})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("section",{id:"dashboard",ref:d,className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("Dashboard")}),e.jsx(U,{userType:o,stats:f,referralLink:R,recentReferredUsers:c.recentReferredUsers,currencySymbol:n})]}),e.jsxs("section",{id:"payout-requests",ref:h,className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("Payout Requests")}),e.jsx(B,{userType:o,payoutRequests:g,settings:m,stats:f,currencySymbol:n})]}),o==="superadmin"&&e.jsxs("section",{id:"settings",ref:p,className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("Settings")}),e.jsx(L,{settings:m,currencySymbol:n,globalSettings:N})]})]})]}),e.jsx(I,{})]})}export{Ne as default};
