import{r as n,j as e}from"./ui-5WRyBZNT.js";import{P as _}from"./page-template-CKIx2Cd4.js";import{u as k,c as T,F as B,B as i,D as P,h as H,i as L,j as F,r as M}from"./app-Dcb6Z4yW.js";import{F as A,i as G,a as R,b as $}from"./index-NxyGfVq9.js";import{L as O}from"./list-DOApis6K.js";import{D as Y}from"./download-D7x9V5HF.js";import"./textarea-LYs2mVcU.js";import"./select-DeRz6PSF.js";import"./index-BdQq_4o_.js";import"./index-CCaALC5E.js";import"./language-WoaYFWNr.js";import"./trophy-CwLH3bof.js";import"./loader-circle-BHYyy5xm.js";import"./copy-CEvMX_m9.js";import"./CookieConsentBanner-DQyHDBeh.js";import"./switch-t9Hay6Hq.js";import"./chevron-right-D-6n0McF.js";import"./credit-card-DqjaQidM.js";import"./dollar-sign-Cwr3Gu39.js";import"./users-CMrPg0xJ.js";import"./clock-bjnTPlpB.js";import"./calendar-DCWku5XV.js";import"./user-mASyYuwG.js";import"./use-favicon-DuYrl8Bg.js";import"./use-brand-theme-Bndhjp9t.js";/* empty css            *//* empty css                  */import"./utils-BkYo4WJR.js";function ye(){var p,h;const{t}=k(),{calendarEvents:x,branches:u,categories:g,years:b,currentYear:j,filters:c={}}=T().props,[l,I]=n.useState(c.category||""),[d,U]=n.useState(c.branch_id||""),[o,V]=n.useState(j.toString()),[a,y]=n.useState(null),[f,m]=n.useState(!1),v=r=>{const s=r.event;y({id:s.id,title:s.title,start:s.start,end:s.end,...s.extendedProps}),m(!0)},N=()=>{M.get(route("hr.holidays.index"),{year:o,category:l||void 0,branch_id:d||void 0})},w=()=>{window.open(route("hr.holidays.export.pdf",{year:o,category:l||void 0,branch_id:d||void 0}),"_blank")},D=()=>{window.open(route("hr.holidays.export.ical",{year:o,category:l||void 0,branch_id:d||void 0}),"_blank")},S=[{label:t("List View"),icon:e.jsx(O,{className:"h-4 w-4 mr-2"}),variant:"outline",onClick:N},{label:t("Export PDF"),icon:e.jsx(B,{className:"h-4 w-4 mr-2"}),variant:"outline",onClick:w},{label:t("Export iCal"),icon:e.jsx(Y,{className:"h-4 w-4 mr-2"}),variant:"outline",onClick:D}],C=[{title:t("Dashboard"),href:route("dashboard")},{title:t("HR Management"),href:route("hr.holidays.index")},{title:t("Holidays"),href:route("hr.holidays.index")},{title:t("Calendar")}];return[t("All Categories"),...(g||[]).map(r=>({value:r,label:r.charAt(0).toUpperCase()+r.slice(1)}))],[t("All Branches"),...(u||[]).map(r=>({value:r.id.toString(),label:r.name}))],[...(b||[]).map(r=>({value:r.toString(),label:r.toString()}))],e.jsxs(_,{title:`${t("Holiday Calendar")} - ${o}`,url:"/hr/holidays/calendar",actions:S,breadcrumbs:C,children:[e.jsxs("div",{className:"mb-6 flex flex-wrap gap-2",children:[e.jsx(i,{variant:"secondary",className:"bg-blue-50 text-blue-700 hover:bg-blue-50",children:t("National")}),e.jsx(i,{variant:"secondary",className:"bg-purple-50 text-purple-700 hover:bg-purple-50",children:t("Religious")}),e.jsx(i,{variant:"secondary",className:"bg-green-50 text-green-700 hover:bg-green-50",children:t("Company Specific")}),e.jsx(i,{variant:"secondary",className:"bg-amber-50 text-amber-700 hover:bg-amber-50",children:t("Regional")})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsx("div",{style:{height:"600px"},children:e.jsx(A,{plugins:[G,R,$],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},buttonText:{today:t("Today"),month:t("Month"),week:t("Week"),day:t("Day")},events:x,height:"100%",eventClick:v,dayMaxEvents:!0,weekends:!0})})}),e.jsx(P,{open:f,onOpenChange:m,children:e.jsxs(H,{className:"max-w-md",children:[e.jsx(L,{children:e.jsx(F,{children:a==null?void 0:a.title})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{variant:"outline",children:a==null?void 0:a.category}),(a==null?void 0:a.is_half_day)&&e.jsx(i,{variant:"secondary",children:t("Half Day")}),a!=null&&a.is_paid?e.jsx(i,{variant:"outline",className:"bg-green-50 text-green-700",children:t("Paid")}):e.jsx(i,{variant:"outline",className:"bg-red-50 text-red-700",children:t("Unpaid")})]}),(a==null?void 0:a.description)&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:t("Description")}),e.jsx("p",{className:"font-medium",children:a.description})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:t("Start Date")}),e.jsx("p",{className:"font-medium",children:a!=null&&a.start?((p=window.appSettings)==null?void 0:p.formatDateTimeSimple(a.start,!1))||new Date(a.start).toLocaleDateString():""})]}),(a==null?void 0:a.end)&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:t("End Date")}),e.jsx("p",{className:"font-medium",children:((h=window.appSettings)==null?void 0:h.formatDateTimeSimple(a.end,!1))||new Date(a.end).toLocaleDateString()})]}),(a==null?void 0:a.branches)&&a.branches.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:t("Branches")}),e.jsx("div",{className:"flex flex-wrap gap-1",children:a.branches.map((r,s)=>e.jsx(i,{variant:"outline",className:"text-xs",children:r},s))})]})]})]})})]})}export{ye as default};
