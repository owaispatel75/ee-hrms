import{r as p,j as e}from"./ui-5WRyBZNT.js";import{P as Ce,D as _e,a as ke,b as Se,c as w,d as De}from"./page-template-CKIx2Cd4.js";import{u as se,D as Pe,h as Oe,i as Ee,j as Fe,o as Ie,B as K,p as Te,n as v,c as Me,P as Ae,r as f,q as b,s as C,v as _,C as Le,t as l}from"./app-Dcb6Z4yW.js";import{P as H}from"./pagination-BW8eSOCk.js";import{S as ze}from"./search-and-filter-bar-BYwCPSIS.js";import{u as Re}from"./use-initials-BEk2J2wf.js";import{C as W}from"./CrudFormModal-CMKQqXhM.js";import{C as $e}from"./CrudDeleteModal-h-4oV4Ln.js";import{R as Ue,a as Ve}from"./radio-group-CWZh11qV.js";import{S as qe}from"./switch-t9Hay6Hq.js";import{C as F}from"./credit-card-DqjaQidM.js";import{C as Be}from"./circle-check-SPi-Xvck.js";import{A as J,K as Q,L as X}from"./lock-open-C1AE0wa5.js";import{I as Z}from"./info-DMPjqPji.js";import{L as ee}from"./lock-DTdsSPVo.js";import{S as $}from"./square-pen-B2niO3pF.js";import{T as U}from"./trash-2-CeLXIVfe.js";import{E as Ye}from"./eye-BauIsDws.js";import"./textarea-LYs2mVcU.js";import"./select-DeRz6PSF.js";import"./index-BdQq_4o_.js";import"./index-CCaALC5E.js";import"./language-WoaYFWNr.js";import"./trophy-CwLH3bof.js";import"./loader-circle-BHYyy5xm.js";import"./copy-CEvMX_m9.js";import"./CookieConsentBanner-DQyHDBeh.js";import"./chevron-right-D-6n0McF.js";import"./dollar-sign-Cwr3Gu39.js";import"./users-CMrPg0xJ.js";import"./clock-bjnTPlpB.js";import"./calendar-DCWku5XV.js";import"./user-mASyYuwG.js";import"./use-favicon-DuYrl8Bg.js";import"./use-brand-theme-Bndhjp9t.js";/* empty css            *//* empty css                  */import"./utils-BkYo4WJR.js";import"./ellipsis-CcCiYkNb.js";import"./chevron-left-CAhfRZ8t.js";import"./filter-CUtbTrvr.js";import"./list-DOApis6K.js";import"./checkbox-B5iZmSiS.js";import"./scroll-area-BNTU7Fcp.js";import"./circle-CTH8Grzw.js";function Ge({isOpen:r,onClose:k,onConfirm:o,plans:I,currentPlanId:n,companyName:a}){const{t:x}=se(),[N,y]=p.useState(null),[c,P]=p.useState(!1),d=I.filter(i=>{const j=i.duration.toLowerCase();return c?j==="yearly":j==="monthly"});p.useEffect(()=>{if(r&&d&&d.length>0){const i=d.find(j=>j.is_current===!0);if(i)y(i.id);else if(n){const j=d.find(g=>g.id===n);y(j?n:d[0].id)}else y(d[0].id)}},[r,I,c]),p.useEffect(()=>{d.length>0&&N&&(d.find(j=>j.id===N)||y(d[0].id))},[c]);const O=()=>{N&&o(N,c?"yearly":"monthly")};return e.jsx(Pe,{open:r,onOpenChange:k,children:e.jsxs(Oe,{className:"sm:max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ee,{children:[e.jsxs(Fe,{children:[x("Upgrade Plan for")," ",a]}),e.jsx(Ie,{children:x("Select a new plan for this company")})]}),e.jsxs("div",{className:"py-4",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:`text-sm font-medium ${c?"text-gray-500":"text-primary"}`,children:x("Monthly")}),e.jsx(qe,{checked:c,onCheckedChange:P,className:"data-[state=checked]:bg-primary"}),e.jsx("span",{className:`text-sm font-medium ${c?"text-primary":"text-gray-500"}`,children:x("Yearly")}),c&&e.jsx(K,{variant:"secondary",className:"ml-2 bg-green-100 text-green-800",children:x("Save up to 20%")})]}),e.jsx(Ue,{value:(N==null?void 0:N.toString())||"",onValueChange:i=>y(parseInt(i)),className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto",children:d.length>0?d.map(i=>{var j;return e.jsxs("div",{className:`relative rounded-lg border p-4 cursor-pointer transition-all ${N===i.id?"border-primary bg-primary/5 shadow-md":"border-gray-200 hover:border-gray-300"} ${i.is_current?"bg-blue-50":""}`,onClick:()=>y(i.id),children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ve,{value:i.id.toString(),id:`plan-${i.id}`,className:"h-5 w-5"}),e.jsx("h3",{className:"text-lg font-semibold",children:i.name})]}),i.is_current&&e.jsx(K,{variant:"outline",className:"bg-blue-100 text-blue-800 border-blue-200",children:x("Current")})]}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(F,{className:"mr-1.5 h-4 w-4 text-muted-foreground"}),e.jsx("p",{className:"text-xl font-bold text-primary",children:((j=window.appSettings)==null?void 0:j.formatCurrency(i.price))||`$${i.price}`}),e.jsxs("span",{className:"text-sm text-muted-foreground ml-1",children:["/ ",i.duration.toLowerCase()]})]}),i.description&&e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:i.description}),(i.max_employees||i.max_users||i.storage_limit)&&e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3 p-2 bg-gray-50 rounded",children:[i.max_employees&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-gray-900",children:i.max_employees}),e.jsx("div",{className:"text-xs text-gray-500",children:x("Employees")})]}),i.max_users&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-gray-900",children:i.max_users}),e.jsx("div",{className:"text-xs text-gray-500",children:x("Users")})]}),i.storage_limit&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-gray-900",children:i.storage_limit}),e.jsx("div",{className:"text-xs text-gray-500",children:x("Storage")})]})]}),i.features&&i.features.length>0&&e.jsxs("div",{className:"space-y-1",children:[i.features.slice(0,4).map((g,E)=>e.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[e.jsx(Be,{className:"mr-1 h-3 w-3 text-green-500 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:g})]},`${i.id}-${E}`)),i.features.length>4&&e.jsxs("div",{className:"text-xs text-gray-400",children:["+",i.features.length-4," more features"]})]})]},i.id)}):e.jsx("div",{className:"col-span-full text-center py-8 text-gray-500",children:e.jsxs("p",{children:[x("No plans available for")," ",x(c?"yearly":"monthly")," ",x("billing")]})})})})]}),e.jsxs(Te,{children:[e.jsx(v,{variant:"outline",onClick:k,children:x("Cancel")}),e.jsx(v,{onClick:O,disabled:!N||d.length===0,children:x("Upgrade Plan")})]})]})})}function zs(){var B,Y,G;const{t:r}=se(),{auth:k,companies:o,plans:I,filters:n={},globalSettings:a}=Me().props;k!=null&&k.permissions;const x=Re(),[N,y]=p.useState("list"),[c,P]=p.useState(n.search||""),[d,O]=p.useState(n.start_date?new Date(n.start_date):void 0),[i,j]=p.useState(n.end_date?new Date(n.end_date):void 0),[g,E]=p.useState(n.status||"all"),[re,V]=p.useState(!1),[te,S]=p.useState(!1),[ae,T]=p.useState(!1),[ie,M]=p.useState(!1),[le,A]=p.useState(!1),[m,L]=p.useState(null),[oe,de]=p.useState([]),[D,z]=p.useState("create"),ne=()=>g!=="all"||c!==""||d!==void 0||i!==void 0,ce=()=>(g!=="all"?1:0)+(c?1:0)+(d?1:0)+(i?1:0),me=s=>{s.preventDefault(),q()},q=()=>{const s={page:1};c&&(s.search=c),g!=="all"&&(s.status=g),d&&(s.start_date=d.toISOString().split("T")[0]),i&&(s.end_date=i.toISOString().split("T")[0]),n.per_page&&(s.per_page=n.per_page),f.get(route("companies.index"),s,{preserveState:!0,preserveScroll:!0})},xe=s=>{E(s);const t={page:1};c&&(t.search=c),s!=="all"&&(t.status=s),d&&(t.start_date=d.toISOString().split("T")[0]),i&&(t.end_date=i.toISOString().split("T")[0]),n.per_page&&(t.per_page=n.per_page),f.get(route("companies.index"),t,{preserveState:!0,preserveScroll:!0})},he=s=>{const t=n.sort_field===s&&n.sort_direction==="asc"?"desc":"asc",u={sort_field:s,sort_direction:t,page:1};c&&(u.search=c),g!=="all"&&(u.status=g),d&&(u.start_date=d.toISOString().split("T")[0]),i&&(u.end_date=i.toISOString().split("T")[0]),n.per_page&&(u.per_page=n.per_page),f.get(route("companies.index"),u,{preserveState:!0,preserveScroll:!0})},h=(s,t)=>{switch(L(t),s){case"login-as":f.get(route("impersonate.start",t.id));break;case"company-info":z("view"),S(!0);break;case"upgrade-plan":Ne(t);break;case"reset-password":M(!0);break;case"toggle-status":ge(t);break;case"edit":z("edit"),S(!0);break;case"delete":T(!0);break}},pe=()=>{L(null),z("create"),S(!0)},ue=s=>{D==="create"?(a!=null&&a.is_demo||l.loading(r("Creating company...")),f.post(route("companies.store"),s,{onSuccess:t=>{S(!1),a!=null&&a.is_demo||l.dismiss(),t.props.flash.success?l.success(r(t.props.flash.success)):t.props.flash.error&&l.error(r(t.props.flash.error))},onError:t=>{a!=null&&a.is_demo||l.dismiss(),typeof t=="string"?l.error(r(t)):l.error(r("Failed to create company: {{errors}}",{errors:Object.values(t).join(", ")}))}})):D==="edit"&&(a!=null&&a.is_demo||l.loading(r("Updating company...")),f.put(route("companies.update",m.id),s,{onSuccess:t=>{S(!1),a!=null&&a.is_demo||l.dismiss(),t.props.flash.success?l.success(r(t.props.flash.success)):t.props.flash.error&&l.error(r(t.props.flash.error))},onError:t=>{a!=null&&a.is_demo||l.dismiss(),typeof t=="string"?l.error(r(t)):l.error(r("Failed to update company: {{errors}}",{errors:Object.values(t).join(", ")}))}}))},fe=()=>{a!=null&&a.is_demo||l.loading(r("Deleting company...")),f.delete(route("companies.destroy",m.id),{onSuccess:s=>{T(!1),a!=null&&a.is_demo||l.dismiss(),s.props.flash.success?l.success(r(s.props.flash.success)):s.props.flash.error&&l.error(r(s.props.flash.error))},onError:s=>{a!=null&&a.is_demo||l.dismiss(),typeof s=="string"?l.error(r(s)):l.error(r("Failed to delete company: {{errors}}",{errors:Object.values(s).join(", ")}))}})},je=s=>{a!=null&&a.is_demo||l.loading(r("Resetting password...")),f.put(route("companies.reset-password",m.id),s,{onSuccess:t=>{M(!1),a!=null&&a.is_demo||l.dismiss(),t.props.flash.success?l.success(r(t.props.flash.success)):t.props.flash.error&&l.error(r(t.props.flash.error))},onError:t=>{a!=null&&a.is_demo||l.dismiss(),typeof t=="string"?l.error(r(t)):l.error(r("Failed to reset password: {{errors}}",{errors:Object.values(t).join(", ")}))}})},ge=s=>{const t=s.status==="active"?"inactive":"active";a!=null&&a.is_demo||l.loading(`${r(t==="active"?"Activating":"Deactivating")} company...`),f.put(route("companies.toggle-status",s.id),{},{onSuccess:u=>{a!=null&&a.is_demo||l.dismiss(),u.props.flash.success?l.success(r(u.props.flash.success)):u.props.flash.error&&l.error(r(u.props.flash.error))},onError:u=>{a!=null&&a.is_demo||l.dismiss(),typeof u=="string"?l.error(r(u)):l.error(r("Failed to update company status: {{errors}}",{errors:Object.values(u).join(", ")}))}})},ve=()=>{E("all"),P(""),O(void 0),j(void 0),V(!1),f.get(route("companies.index"),{page:1,per_page:n.per_page},{preserveState:!0,preserveScroll:!0})},Ne=s=>{L(s),a!=null&&a.is_demo||l.loading(r("Loading plans...")),fetch(route("companies.plans",s.id)).then(t=>t.json()).then(t=>{de(t.plans),A(!0),a!=null&&a.is_demo||l.dismiss()}).catch(t=>{a!=null&&a.is_demo||l.dismiss(),l.error(r("Failed to load plans"))})},ye=(s,t)=>{a!=null&&a.is_demo||l.loading(r("Upgrading plan...")),f.put(route("companies.upgrade-plan",m.id),{plan_id:s,duration:t},{onSuccess:()=>{A(!1),a!=null&&a.is_demo||l.dismiss(),l.success(r("Plan upgraded successfully")),f.reload()},onError:()=>{a!=null&&a.is_demo||l.dismiss(),l.error(r("Failed to upgrade plan"))}})},we=[{label:r("Add Company"),icon:e.jsx(Ae,{className:"h-4 w-4 mr-2"}),variant:"default",onClick:()=>pe()}],be=[{title:r("Dashboard"),href:route("dashboard")},{title:r("Companies")}],R=[{key:"name",label:r("Name"),sortable:!0,render:(s,t)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary text-white",children:x(t.name)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t.email})]})]})},{key:"plan_name",label:r("Plan"),render:s=>e.jsx("span",{className:"capitalize",children:s})},{key:"created_at",label:r("Created At"),sortable:!0,render:s=>{var t;return((t=window.appSettings)==null?void 0:t.formatDateTime(s,!1))||new Date(s).toLocaleDateString()}}];return e.jsxs(Ce,{title:r("Companies"),url:"/companies",actions:we,breadcrumbs:be,noPadding:!0,children:[e.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow mb-4 p-4",children:e.jsx(ze,{searchTerm:c,onSearchChange:P,onSearch:me,filters:[{name:"status",label:r("Status"),type:"select",value:g,onChange:xe,options:[{value:"all",label:r("All Status")},{value:"active",label:r("Active")},{value:"inactive",label:r("Inactive")}]},{name:"start_date",label:r("Start Date"),type:"date",value:d,onChange:s=>O(s)},{name:"end_date",label:r("End Date"),type:"date",value:i,onChange:s=>j(s)}],showFilters:re,setShowFilters:V,hasActiveFilters:ne,activeFilterCount:ce,onResetFilters:ve,onApplyFilters:q,currentPerPage:((B=n.per_page)==null?void 0:B.toString())||"10",onPerPageChange:s=>{const t={page:1,per_page:parseInt(s)};c&&(t.search=c),g!=="all"&&(t.status=g),d&&(t.start_date=d.toISOString().split("T")[0]),i&&(t.end_date=i.toISOString().split("T")[0]),f.get(route("companies.index"),t,{preserveState:!0,preserveScroll:!0})},showViewToggle:!0,activeView:N,onViewChange:y})}),N==="list"?e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50 dark:bg-gray-800 dark:border-gray-700",children:[R.map(s=>e.jsx("th",{className:"px-4 py-3 text-left font-medium text-gray-500",onClick:()=>s.sortable&&he(s.key),children:e.jsxs("div",{className:"flex items-center",children:[s.label,s.sortable&&e.jsx("span",{className:"ml-1",children:n.sort_field===s.key?n.sort_direction==="asc"?"↑":"↓":""})]})},s.key)),e.jsx("th",{className:"px-4 py-3 text-right font-medium text-gray-500",children:r("Actions")})]})}),e.jsxs("tbody",{children:[(Y=o==null?void 0:o.data)==null?void 0:Y.map(s=>e.jsxs("tr",{className:"border-b hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-900 dark:hover:bg-gray-800",children:[R.map(t=>e.jsx("td",{className:"px-4 py-3",children:t.render?t.render(s[t.key],s):s[t.key]},`${s.id}-${t.key}`)),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs("div",{className:"flex justify-end gap-1",children:[e.jsxs(b,{children:[e.jsx(C,{asChild:!0,children:e.jsx(v,{variant:"ghost",size:"icon",onClick:()=>h("login-as",s),className:"text-blue-500 hover:text-blue-700",children:e.jsx(J,{className:"h-4 w-4"})})}),e.jsx(_,{children:r("Login as Company")})]}),e.jsxs(b,{children:[e.jsx(C,{asChild:!0,children:e.jsx(v,{variant:"ghost",size:"icon",onClick:()=>h("company-info",s),className:"text-blue-500 hover:text-blue-700",children:e.jsx(Z,{className:"h-4 w-4"})})}),e.jsx(_,{children:r("Company Info")})]}),e.jsxs(b,{children:[e.jsx(C,{asChild:!0,children:e.jsx(v,{variant:"ghost",size:"icon",onClick:()=>h("upgrade-plan",s),className:"text-amber-500 hover:text-amber-700",children:e.jsx(F,{className:"h-4 w-4"})})}),e.jsx(_,{children:r("Upgrade Plan")})]}),e.jsxs(b,{children:[e.jsx(C,{asChild:!0,children:e.jsx(v,{variant:"ghost",size:"icon",onClick:()=>h("reset-password",s),className:"text-blue-500 hover:text-blue-700",children:e.jsx(Q,{className:"h-4 w-4"})})}),e.jsx(_,{children:r("Reset Password")})]}),e.jsxs(b,{children:[e.jsx(C,{asChild:!0,children:e.jsx(v,{variant:"ghost",size:"icon",onClick:()=>h("toggle-status",s),className:"text-amber-500 hover:text-amber-700",children:s.status==="active"?e.jsx(ee,{className:"h-4 w-4"}):e.jsx(X,{className:"h-4 w-4"})})}),e.jsx(_,{children:s.status==="active"?r("Disable Login"):r("Enable Login")})]}),e.jsxs(b,{children:[e.jsx(C,{asChild:!0,children:e.jsx(v,{variant:"ghost",size:"icon",onClick:()=>h("edit",s),className:"text-amber-500 hover:text-amber-700",children:e.jsx($,{className:"h-4 w-4"})})}),e.jsx(_,{children:r("Edit")})]}),e.jsxs(b,{children:[e.jsx(C,{asChild:!0,children:e.jsx(v,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700",onClick:()=>h("delete",s),children:e.jsx(U,{className:"h-4 w-4"})})}),e.jsx(_,{children:r("Delete")})]})]})})]},s.id)),(!(o!=null&&o.data)||o.data.length===0)&&e.jsx("tr",{children:e.jsx("td",{colSpan:R.length+1,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:r("No companies found")})})]})]})}),e.jsx(H,{from:(o==null?void 0:o.from)||0,to:(o==null?void 0:o.to)||0,total:(o==null?void 0:o.total)||0,links:o==null?void 0:o.links,entityName:r("companies"),onPageChange:s=>f.get(s)})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[(G=o==null?void 0:o.data)==null?void 0:G.map(s=>{var t;return e.jsx(Le,{className:"bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-gray-200 flex items-center justify-center text-lg font-bold text-gray-700",children:x(s.name)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:s.email}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`h-2 w-2 rounded-full mr-2 ${s.status==="active"?"bg-gray-800":"bg-gray-400"}`}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:s.status==="active"?r("Active"):r("Inactive")})]})]})]}),e.jsxs(_e,{children:[e.jsx(ke,{asChild:!0,children:e.jsx(v,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-400 hover:text-gray-600",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"1"}),e.jsx("circle",{cx:"12",cy:"5",r:"1"}),e.jsx("circle",{cx:"12",cy:"19",r:"1"})]})})}),e.jsxs(Se,{align:"end",className:"w-48 z-50",sideOffset:5,children:[e.jsxs(w,{onClick:()=>h("login-as",s),children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:r("Login as Company")})]}),e.jsxs(w,{onClick:()=>h("company-info",s),children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:r("Company Info")})]}),e.jsxs(w,{onClick:()=>h("upgrade-plan",s),children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:r("Upgrade Plan")})]}),e.jsxs(w,{onClick:()=>h("reset-password",s),children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:r("Reset Password")})]}),e.jsxs(w,{onClick:()=>h("toggle-status",s),children:[s.status==="active"?e.jsx(ee,{className:"h-4 w-4 mr-2"}):e.jsx(X,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:s.status==="active"?r("Disable Login"):r("Enable Login")})]}),e.jsx(De,{}),e.jsxs(w,{onClick:()=>h("edit",s),className:"text-amber-600",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:r("Edit")})]}),e.jsxs(w,{onClick:()=>h("delete",s),className:"text-rose-600",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:r("Delete")})]})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-md p-3 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(F,{className:"h-4 w-4 text-gray-500 mr-2"}),e.jsx("span",{className:"text-sm font-semibold text-gray-800",children:s.plan_name})]}),s.plan_expiry_date&&e.jsxs("div",{className:"text-xs text-gray-500 text-center mt-1",children:[r("Expires"),": ",((t=window.appSettings)==null?void 0:t.formatDateTime(s.plan_expiry_date,!1))||new Date(s.plan_expiry_date).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(v,{variant:"outline",size:"sm",onClick:()=>h("edit",s),className:"flex-1 h-9 text-sm border-gray-300",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),r("Edit")]}),e.jsxs(v,{variant:"outline",size:"sm",onClick:()=>h("company-info",s),className:"flex-1 h-9 text-sm border-gray-300",children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),r("View")]}),e.jsxs(v,{variant:"outline",size:"sm",onClick:()=>h("delete",s),className:"flex-1 h-9 text-sm text-gray-700 border-gray-300",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),r("Delete")]})]})]})},s.id)}),(!(o!=null&&o.data)||o.data.length===0)&&e.jsx("div",{className:"col-span-full p-8 text-center text-gray-500 dark:text-gray-400",children:r("No companies found")})]}),e.jsx("div",{className:"mt-6 bg-white dark:bg-gray-900 rounded-lg shadow overflow-hidden",children:e.jsx(H,{from:(o==null?void 0:o.from)||0,to:(o==null?void 0:o.to)||0,total:(o==null?void 0:o.total)||0,links:o==null?void 0:o.links,entityName:r("companies"),onPageChange:s=>f.get(s)})})]}),e.jsx(W,{isOpen:te,onClose:()=>S(!1),onSubmit:s=>{s.login_enabled===!1&&delete s.password,s.status=s.login_enabled?"active":"inactive",delete s.login_enabled,ue(s)},formConfig:{fields:[{name:"name",label:r("Company Name"),type:"text",required:!0},{name:"email",label:r("Email"),type:"email",required:!0},{name:"login_enabled",label:r("Enable Login"),placeholder:"",type:"switch",defaultValue:!0,conditional:s=>s==="create"},{name:"password",label:r("Password"),type:"password",required:s=>s==="create",conditional:(s,t)=>s==="create"&&(t==null?void 0:t.login_enabled)===!0}],modalSize:"lg"},initialData:{...m,login_enabled:(m==null?void 0:m.status)==="active"},title:r(D==="create"?"Add New Company":D==="edit"?"Edit Company":"View Company"),mode:D}),e.jsx($e,{isOpen:ae,onClose:()=>T(!1),onConfirm:fe,itemName:(m==null?void 0:m.name)||"",entityName:"company"}),e.jsx(W,{isOpen:ie,onClose:()=>M(!1),onSubmit:je,formConfig:{fields:[{name:"password",label:r("New Password"),type:"password",required:!0}],modalSize:"sm"},initialData:{},title:`Reset Password for ${(m==null?void 0:m.name)||"Company"}`,mode:"edit"}),e.jsx(Ge,{isOpen:le,onClose:()=>A(!1),onConfirm:ye,plans:oe,currentPlanId:m==null?void 0:m.plan_id,companyName:(m==null?void 0:m.name)||""})]})}export{zs as default};
