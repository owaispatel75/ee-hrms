import{x as Zs,G as L,r as w,j as e}from"./ui-5WRyBZNT.js";import{P as Qs}from"./page-template-CKIx2Cd4.js";import{u as O,t as _,r as ie,L as Y,I as J,n as C,C as z,k as I,ai as me,l as q,m as U,B as Bs,D as er,h as sr,i as rr,j as ar,c as tr,b as nr,P as ir,X as cr}from"./app-Dcb6Z4yW.js";import{S as lr}from"./switch-t9Hay6Hq.js";import{T as or,a as dr,b as _s}from"./tabs-vlSG9zF6.js";import{C as mr}from"./CrudDeleteModal-h-4oV4Ln.js";import{L as S}from"./loader-circle-BHYyy5xm.js";import{C as ur}from"./copy-CEvMX_m9.js";import{C as Ls}from"./circle-check-big-DvjFjVFs.js";import{C as F}from"./credit-card-DqjaQidM.js";import{E as te}from"./external-link-jFGKNT7b.js";import{W as Ee,C as Fe,B as hr,I as we}from"./wallet-V5ITs3Yp.js";import{A,a as R}from"./alert-_QIJbTlc.js";import{I as Te}from"./info-DMPjqPji.js";import{C as D}from"./circle-alert-DyiJ_7fc.js";import{T as xr,C as Pe,P as pr,Z as fr}from"./zap-C99Wcc2V.js";import{S as Cs}from"./trophy-CwLH3bof.js";import{C as ks}from"./circle-check-SPi-Xvck.js";import{T as yr}from"./trash-2-CeLXIVfe.js";import{C as jr}from"./clock-bjnTPlpB.js";import{H as br}from"./hard-drive-B2P2rmjY.js";import{U as Es}from"./users-CMrPg0xJ.js";import"./textarea-LYs2mVcU.js";import"./select-DeRz6PSF.js";import"./index-BdQq_4o_.js";import"./index-CCaALC5E.js";import"./language-WoaYFWNr.js";import"./CookieConsentBanner-DQyHDBeh.js";import"./chevron-right-D-6n0McF.js";import"./dollar-sign-Cwr3Gu39.js";import"./calendar-DCWku5XV.js";import"./user-mASyYuwG.js";import"./use-favicon-DuYrl8Bg.js";import"./use-brand-theme-Bndhjp9t.js";/* empty css            *//* empty css                  */import"./utils-BkYo4WJR.js";var qs="basil",Nr=function(i){return i===3?"v3":i},Us="https://js.stripe.com",vr="".concat(Us,"/").concat(qs,"/stripe.js"),gr=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,wr=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var Pr=function(i){return gr.test(i)||wr.test(i)},_r=function(){for(var i=document.querySelectorAll('script[src^="'.concat(Us,'"]')),n=0;n<i.length;n++){var c=i[n];if(Pr(c.src))return c}return null},Fs=function(i){var n="",c=document.createElement("script");c.src="".concat(vr).concat(n);var d=document.head||document.body;if(!d)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return d.appendChild(c),c},Cr=function(i,n){!i||!i._registerWrapper||i._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:n})},fe=null,je=null,be=null,kr=function(i){return function(n){i(new Error("Failed to load Stripe.js",{cause:n}))}},Er=function(i,n){return function(){window.Stripe?i(window.Stripe):n(new Error("Stripe.js not available"))}},Fr=function(i){return fe!==null?fe:(fe=new Promise(function(n,c){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var d=_r();if(!(d&&i)){if(!d)d=Fs(i);else if(d&&be!==null&&je!==null){var h;d.removeEventListener("load",be),d.removeEventListener("error",je),(h=d.parentNode)===null||h===void 0||h.removeChild(d),d=Fs(i)}}be=Er(n,c),je=kr(c),d.addEventListener("load",be),d.addEventListener("error",je)}catch(N){c(N);return}}),fe.catch(function(n){return fe=null,Promise.reject(n)}))},Tr=function(i,n,c){if(i===null)return null;var d=n[0],h=d.match(/^pk_test/),N=Nr(i.version),y=qs;h&&N!==y&&console.warn("Stripe.js@".concat(N," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(y,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var s=i.apply(void 0,n);return Cr(s,c),s},ye,Ks=!1,$s=function(){return ye||(ye=Fr(null).catch(function(i){return ye=null,Promise.reject(i)}),ye)};Promise.resolve().then(function(){return $s()}).catch(function(r){Ks||console.warn(r)});var Mr=function(){for(var i=arguments.length,n=new Array(i),c=0;c<i;c++)n[c]=arguments[c];Ks=!0;var d=Date.now();return $s().then(function(h){return Tr(h,n,d)})},_e={exports:{}},Ce,Ts;function Or(){if(Ts)return Ce;Ts=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ce=r,Ce}var ke,Ms;function Ar(){if(Ms)return ke;Ms=1;var r=Or();function i(){}function n(){}return n.resetWarningCache=i,ke=function(){function c(N,y,s,t,f,l){if(l!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}c.isRequired=c;function d(){return c}var h={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:d,element:c,elementType:c,instanceOf:d,node:c,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:n,resetWarningCache:i};return h.PropTypes=h,h},ke}var Os;function Rr(){return Os||(Os=1,_e.exports=Ar()()),_e.exports}var zr=Rr();const $=Zs(zr);function As(r,i){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);i&&(c=c.filter(function(d){return Object.getOwnPropertyDescriptor(r,d).enumerable})),n.push.apply(n,c)}return n}function Rs(r){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?As(Object(n),!0).forEach(function(c){Ws(r,c,n[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):As(Object(n)).forEach(function(c){Object.defineProperty(r,c,Object.getOwnPropertyDescriptor(n,c))})}return r}function Ne(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ne=function(i){return typeof i}:Ne=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Ne(r)}function Ws(r,i,n){return i in r?Object.defineProperty(r,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[i]=n,r}function Ir(r,i){if(r==null)return{};var n={},c=Object.keys(r),d,h;for(h=0;h<c.length;h++)d=c[h],!(i.indexOf(d)>=0)&&(n[d]=r[d]);return n}function Sr(r,i){if(r==null)return{};var n=Ir(r,i),c,d;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(r);for(d=0;d<h.length;d++)c=h[d],!(i.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(r,c)&&(n[c]=r[c])}return n}function Ys(r,i){return Dr(r)||Br(r,i)||Lr(r,i)||qr()}function Dr(r){if(Array.isArray(r))return r}function Br(r,i){var n=r&&(typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"]);if(n!=null){var c=[],d=!0,h=!1,N,y;try{for(n=n.call(r);!(d=(N=n.next()).done)&&(c.push(N.value),!(i&&c.length===i));d=!0);}catch(s){h=!0,y=s}finally{try{!d&&n.return!=null&&n.return()}finally{if(h)throw y}}return c}}function Lr(r,i){if(r){if(typeof r=="string")return zs(r,i);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zs(r,i)}}function zs(r,i){(i==null||i>r.length)&&(i=r.length);for(var n=0,c=new Array(i);n<i;n++)c[n]=r[n];return c}function qr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ae=function(i,n,c){var d=!!c,h=L.useRef(c);L.useEffect(function(){h.current=c},[c]),L.useEffect(function(){if(!d||!i)return function(){};var N=function(){h.current&&h.current.apply(h,arguments)};return i.on(n,N),function(){i.off(n,N)}},[d,n,i,h])},Me=function(i){var n=L.useRef(i);return L.useEffect(function(){n.current=i},[i]),n.current},he=function(i){return i!==null&&Ne(i)==="object"},Ur=function(i){return he(i)&&typeof i.then=="function"},Kr=function(i){return he(i)&&typeof i.elements=="function"&&typeof i.createToken=="function"&&typeof i.createPaymentMethod=="function"&&typeof i.confirmCardPayment=="function"},Is="[object Object]",$r=function r(i,n){if(!he(i)||!he(n))return i===n;var c=Array.isArray(i),d=Array.isArray(n);if(c!==d)return!1;var h=Object.prototype.toString.call(i)===Is,N=Object.prototype.toString.call(n)===Is;if(h!==N)return!1;if(!h&&!c)return i===n;var y=Object.keys(i),s=Object.keys(n);if(y.length!==s.length)return!1;for(var t={},f=0;f<y.length;f+=1)t[y[f]]=!0;for(var l=0;l<s.length;l+=1)t[s[l]]=!0;var o=Object.keys(t);if(o.length!==y.length)return!1;var b=i,v=n,x=function(j){return r(b[j],v[j])};return o.every(x)},Xs=function(i,n,c){return he(i)?Object.keys(i).reduce(function(d,h){var N=!he(n)||!$r(i[h],n[h]);return c.includes(h)?(N&&console.warn("Unsupported prop change: options.".concat(h," is not a mutable property.")),d):N?Rs(Rs({},d||{}),{},Ws({},h,i[h])):d},null):null},Hs="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Ss=function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs;if(i===null||Kr(i))return i;throw new Error(n)},Wr=function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs;if(Ur(i))return{tag:"async",stripePromise:Promise.resolve(i).then(function(d){return Ss(d,n)})};var c=Ss(i,n);return c===null?{tag:"empty"}:{tag:"sync",stripe:c}},Yr=function(i){!i||!i._registerWrapper||!i.registerAppInfo||(i._registerWrapper({name:"react-stripe-js",version:"3.10.0"}),i.registerAppInfo({name:"react-stripe-js",version:"3.10.0",url:"https://stripe.com/docs/stripe-js/react"}))},ve=L.createContext(null);ve.displayName="ElementsContext";var Js=function(i,n){if(!i)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return i},Vs=function(i){var n=i.stripe,c=i.options,d=i.children,h=L.useMemo(function(){return Wr(n)},[n]),N=L.useState(function(){return{stripe:h.tag==="sync"?h.stripe:null,elements:h.tag==="sync"?h.stripe.elements(c):null}}),y=Ys(N,2),s=y[0],t=y[1];L.useEffect(function(){var o=!0,b=function(x){t(function(m){return m.stripe?m:{stripe:x,elements:x.elements(c)}})};return h.tag==="async"&&!s.stripe?h.stripePromise.then(function(v){v&&o&&b(v)}):h.tag==="sync"&&!s.stripe&&b(h.stripe),function(){o=!1}},[h,s,c]);var f=Me(n);L.useEffect(function(){f!==null&&f!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[f,n]);var l=Me(c);return L.useEffect(function(){if(s.elements){var o=Xs(c,l,["clientSecret","fonts"]);o&&s.elements.update(o)}},[c,l,s.elements]),L.useEffect(function(){Yr(s.stripe)},[s.stripe]),L.createElement(ve.Provider,{value:s},d)};Vs.propTypes={stripe:$.any,options:$.object};var Xr=function(i){var n=L.useContext(ve);return Js(n,i)},Hr=function(){var i=Xr("calls useElements()"),n=i.elements;return n};$.func.isRequired;var Gs=L.createContext(null);Gs.displayName="CheckoutSdkContext";var Jr=function(i,n){if(!i)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return i},Vr=L.createContext(null);Vr.displayName="CheckoutContext";$.any,$.shape({fetchClientSecret:$.func.isRequired,elementsOptions:$.object}).isRequired;var Oe=function(i){var n=L.useContext(Gs),c=L.useContext(ve);if(n&&c)throw new Error("You cannot wrap the part of your app that ".concat(i," in both <CheckoutProvider> and <Elements> providers."));return n?Jr(n,i):Js(c,i)},Gr=["mode"],Zr=function(i){return i.charAt(0).toUpperCase()+i.slice(1)},V=function(i,n){var c="".concat(Zr(i),"Element"),d=function(s){var t=s.id,f=s.className,l=s.options,o=l===void 0?{}:l,b=s.onBlur,v=s.onFocus,x=s.onReady,m=s.onChange,j=s.onEscape,u=s.onClick,p=s.onLoadError,g=s.onLoaderStart,M=s.onNetworksChange,T=s.onConfirm,W=s.onCancel,X=s.onShippingAddressChange,ee=s.onShippingRateChange,k=s.onSavedPaymentMethodRemove,re=s.onSavedPaymentMethodUpdate,se=Oe("mounts <".concat(c,">")),ce="elements"in se?se.elements:null,E="checkoutSdk"in se?se.checkoutSdk:null,Z=L.useState(null),Q=Ys(Z,2),K=Q[0],ue=Q[1],ne=L.useRef(null),oe=L.useRef(null);ae(K,"blur",b),ae(K,"focus",v),ae(K,"escape",j),ae(K,"click",u),ae(K,"loaderror",p),ae(K,"loaderstart",g),ae(K,"networkschange",M),ae(K,"confirm",T),ae(K,"cancel",W),ae(K,"shippingaddresschange",X),ae(K,"shippingratechange",ee),ae(K,"savedpaymentmethodremove",k),ae(K,"savedpaymentmethodupdate",re),ae(K,"change",m);var le;x&&(i==="expressCheckout"?le=x:le=function(){x(K)}),ae(K,"ready",le),L.useLayoutEffect(function(){if(ne.current===null&&oe.current!==null&&(ce||E)){var P=null;if(E)switch(i){case"payment":P=E.createPaymentElement(o);break;case"address":if("mode"in o){var H=o.mode,B=Sr(o,Gr);if(H==="shipping")P=E.createShippingAddressElement(B);else if(H==="billing")P=E.createBillingAddressElement(B);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":P=E.createExpressCheckoutElement(o);break;case"currencySelector":P=E.createCurrencySelectorElement();break;case"taxId":P=E.createTaxIdElement(o);break;default:throw new Error("Invalid Element type ".concat(c,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else ce&&(P=ce.create(i,o));ne.current=P,ue(P),P&&P.mount(oe.current)}},[ce,E,o]);var a=Me(o);return L.useEffect(function(){if(ne.current){var P=Xs(o,a,["paymentRequest"]);P&&"update"in ne.current&&ne.current.update(P)}},[o,a]),L.useLayoutEffect(function(){return function(){if(ne.current&&typeof ne.current.destroy=="function")try{ne.current.destroy(),ne.current=null}catch{}}},[]),L.createElement("div",{id:t,className:f,ref:oe})},h=function(s){Oe("mounts <".concat(c,">"));var t=s.id,f=s.className;return L.createElement("div",{id:t,className:f})},N=n?h:d;return N.propTypes={id:$.string,className:$.string,onChange:$.func,onBlur:$.func,onFocus:$.func,onReady:$.func,onEscape:$.func,onClick:$.func,onLoadError:$.func,onLoaderStart:$.func,onNetworksChange:$.func,onConfirm:$.func,onCancel:$.func,onShippingAddressChange:$.func,onShippingRateChange:$.func,onSavedPaymentMethodRemove:$.func,onSavedPaymentMethodUpdate:$.func,options:$.object},N.displayName=c,N.__elementType=i,N},G=typeof window>"u",Qr=L.createContext(null);Qr.displayName="EmbeddedCheckoutProviderContext";var ea=function(){var i=Oe("calls useStripe()"),n=i.stripe;return n};V("auBankAccount",G);var Ds=V("card",G);V("cardNumber",G);V("cardExpiry",G);V("cardCvc",G);V("fpxBank",G);V("iban",G);V("idealBank",G);V("p24Bank",G);V("epsBank",G);V("payment",G);V("expressCheckout",G);V("currencySelector",G);V("paymentRequestButton",G);V("linkAuthentication",G);V("address",G);V("shippingAddress",G);V("paymentMethodMessaging",G);V("affirmMessage",G);V("afterpayClearpayMessage",G);V("taxId",G);function ge(r={}){const{t:i}=O(),[n,c]=w.useState(!1),d=async(y,s)=>{c(!0);const f={stripe:"stripe.payment",paypal:"paypal.payment",bank:"bank.payment",razorpay:"razorpay.payment",mercadopago:"mercadopago.payment",paystack:"paystack.payment",flutterwave:"flutterwave.payment"}[y];if(!f){_.error(i("Invalid payment method")),c(!1);return}const l=N(y,s);ie.post(route(f),l,{onSuccess:o=>{var b,v,x;(v=(b=o.props)==null?void 0:b.flash)!=null&&v.success?_.success(i(o.props.flash.success)):_.success(i("Payment successful")),(x=r.onSuccess)==null||x.call(r)},onError:o=>{var v;const b=(o==null?void 0:o.message)||(o==null?void 0:o.error)||i("Payment failed");_.error(b),(v=r.onError)==null||v.call(r,b)},onFinish:()=>{c(!1)}})},h=(y,s)=>{const f={stripe:["payment_method_id","cardholder_name"],paypal:["order_id","payment_id"],bank:["amount"],razorpay:["payment_id","order_id","signature"],mercadopago:["payment_id","status"],paystack:["payment_id"],flutterwave:["payment_id"]}[y]||[];for(const l of f)if(!s[l])return _.error(i(`${l} is required`)),!1;return!0},N=(y,s)=>({plan_id:s.planId,billing_cycle:s.billingCycle,coupon_code:s.couponCode||"",...s});return{processing:n,processPayment:d,validatePaymentData:h,formatPaymentData:N}}const sa=({planId:r,couponCode:i,billingCycle:n,onSuccess:c,onCancel:d})=>{const{t:h}=O(),N=ea(),y=Hr(),[s,t]=w.useState(""),{processing:f,processPayment:l}=ge({onSuccess:c,onError:v=>_.error(v)}),o=async v=>{if(v.preventDefault(),!N||!y||!s.trim()){_.error(h("Please fill in all required fields"));return}const x=y.getElement(Ds);if(!x)return;const{error:m,paymentMethod:j}=await N.createPaymentMethod({type:"card",card:x,billing_details:{name:s}});if(m){_.error(m.message||h("Payment failed"));return}l("stripe",{planId:r,billingCycle:n,couponCode:i,payment_method_id:j.id,cardholder_name:s})},b={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}};return e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"cardholder-name",children:h("Name on card")}),e.jsx(J,{id:"cardholder-name",type:"text",value:s,onChange:v=>t(v.target.value),placeholder:h("Enter cardholder name"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:h("Card details")}),e.jsx("div",{className:"p-3 border rounded-md",children:e.jsx(Ds,{options:b})})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(C,{type:"button",variant:"outline",onClick:d,disabled:f,className:"flex-1",children:h("Cancel")}),e.jsx(C,{type:"submit",disabled:!N||f,className:"flex-1",children:f?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"h-4 w-4 mr-2 animate-spin"}),h("Processing...")]}):h("Pay Now")})]})]})};function ra({planId:r,couponCode:i,billingCycle:n,stripeKey:c,onSuccess:d,onCancel:h}){const{t:N}=O(),[y,s]=w.useState(null);return w.useEffect(()=>{c&&c.startsWith("pk_")&&s(Mr(c))},[c]),y?e.jsx(Vs,{stripe:y,children:e.jsx(sa,{planId:r,couponCode:i,billingCycle:n,onSuccess:d,onCancel:h})}):e.jsx("div",{className:"p-4 text-center text-red-500",children:N("Stripe not configured properly")})}function aa({planId:r,planPrice:i,couponCode:n,billingCycle:c,paypalClientId:d,currency:h,onSuccess:N,onCancel:y}){const{t:s}=O(),t=w.useRef(null),{processPayment:f}=ge({onSuccess:N,onError:l=>_.error(l)});return w.useEffect(()=>{if(!d||!t.current)return;const l=document.createElement("script");return l.src=`https://www.paypal.com/sdk/js?client-id=${d}&currency=${h.toUpperCase()}&disable-funding=credit,card`,l.async=!0,l.onload=()=>{window.paypal&&t.current&&window.paypal.Buttons({createOrder:(o,b)=>b.order.create({purchase_units:[{amount:{value:i.toString(),currency_code:h.toUpperCase()}}]}),onApprove:(o,b)=>b.order.capture().then(v=>{f("paypal",{planId:r,billingCycle:c,couponCode:n,order_id:o.orderID,payment_id:v.id})}),onError:o=>{console.error("PayPal error:",o),o.message&&o.message.includes("declined")?_.error(s("Card was declined. Please try a different payment method.")):_.error(s("Payment failed. Please try again."))},onCancel:()=>{y()}}).render(t.current)},document.head.appendChild(l),()=>{document.head.contains(l)&&document.head.removeChild(l)}},[d,r,c,n,h]),d?e.jsx("div",{className:"space-y-4",children:e.jsx("div",{ref:t})}):e.jsx("div",{className:"p-4 text-center text-red-500",children:s("PayPal not configured")})}function ta({planId:r,planPrice:i,couponCode:n,billingCycle:c,bankDetails:d,onSuccess:h,onCancel:N}){const{t:y}=O(),[s,t]=w.useState(!1),f=o=>{navigator.clipboard.writeText(o),_.success(y("Copied to clipboard"))},l=()=>{t(!0),ie.post(route("bank.payment"),{plan_id:r,billing_cycle:c,coupon_code:n,amount:i},{onSuccess:()=>{_.success(y("Payment request submitted successfully")),h()},onError:()=>{_.error(y("Failed to submit payment request"))},onFinish:()=>{t(!1)}})};return e.jsxs("div",{className:"space-y-4",children:[e.jsx(z,{children:e.jsxs(I,{className:"p-4",children:[e.jsx("h3",{className:"font-medium mb-3",children:y("Bank Transfer Details")}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("div",{className:"whitespace-pre-line",children:d}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("span",{className:"font-medium",children:[y("Amount"),": $",i]}),e.jsxs(C,{variant:"outline",size:"sm",onClick:()=>f(i.toString()),children:[e.jsx(ur,{className:"h-3 w-3 mr-1"}),y("Copy")]})]})]})]})}),e.jsx(z,{className:"border-orange-200 bg-orange-50",children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ls,{className:"h-5 w-5 text-orange-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-orange-800",children:[e.jsx("p",{className:"font-medium mb-1",children:y("Important Instructions")}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsxs("li",{children:["• ",y("Transfer the exact amount shown above")]}),e.jsxs("li",{children:["• ",y("Include your order reference in the transfer description")]}),e.jsxs("li",{children:["• ",y("Your plan will be activated after payment verification")]}),e.jsxs("li",{children:["• ",y("Verification may take 1-3 business days")]})]})]})]})})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:N,className:"flex-1",children:y("Cancel")}),e.jsx(C,{onClick:l,disabled:s,className:"flex-1",children:y(s?"Processing...":"I have made the payment")})]})]})}function na({planId:r,planPrice:i,couponCode:n,billingCycle:c,razorpayKey:d,currency:h="INR",onSuccess:N,onCancel:y}){const{t:s}=O();w.useEffect(()=>{if(window&&window.Razorpay)return;const f=document.createElement("script");return f.src="https://checkout.razorpay.com/v1/checkout.js",f.async=!0,f.onerror=()=>{_.error(s("Failed to load Razorpay checkout. Please try again."))},document.body.appendChild(f),()=>{document.body.contains(f)&&document.body.removeChild(f)}},[]);const t=async()=>{var f,l;try{const o=await me.post(route("razorpay.create-order"),{plan_id:r,billing_cycle:c,coupon_code:n});if(o.data.error){_.error(o.data.error);return}const{order_id:b,amount:v}=o.data;if(!b||!v){_.error(s("Invalid response from server"));return}const x={key:d,amount:v,currency:h,name:"HRM",description:"Plan Subscription",order_id:b,handler:function(j){me.post(route("razorpay.verify-payment"),{razorpay_payment_id:j.razorpay_payment_id,razorpay_order_id:j.razorpay_order_id,razorpay_signature:j.razorpay_signature,plan_id:r,billing_cycle:c,coupon_code:n}).then(()=>{N()}).catch(u=>{var g,M;const p=((M=(g=u.response)==null?void 0:g.data)==null?void 0:M.error)||s("Payment verification failed");_.error(p)})},prefill:{name:"",email:"",contact:""},theme:{color:"#3B82F6"},modal:{ondismiss:y}};if(!window.Razorpay){_.error(s("Razorpay SDK not loaded"));return}new window.Razorpay(x).open()}catch(o){const b=((l=(f=o.response)==null?void 0:f.data)==null?void 0:l.error)||s("Failed to initialize payment");_.error(b),console.error("Razorpay error:",o)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s("You will be redirected to Razorpay to complete your payment.")}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:y,className:"flex-1",children:s("Cancel")}),e.jsx(C,{onClick:t,className:"flex-1",children:s("Pay with Razorpay")})]})]})}function ia({planId:r,planPrice:i,couponCode:n,billingCycle:c,accessToken:d,currency:h="BRL",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),l=async()=>{var o,b;try{f(!0);const v=await me.post(route("mercadopago.create-preference"),{plan_id:r,billing_cycle:c,coupon_code:n||void 0},{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});v.data.redirect_url?window.location.href=v.data.redirect_url:(_.error(s("Failed to create payment preference")),f(!1))}catch(v){const x=((b=(o=v.response)==null?void 0:o.data)==null?void 0:b.error)||v.message||s("Failed to create payment preference");_.error(x),f(!1)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s("You will be redirected to MercadoPago to complete your payment.")}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx(C,{variant:"outline",onClick:y,className:"flex-1",disabled:t,children:s("Cancel")}),e.jsx(C,{onClick:l,className:"flex-1",disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"h-4 w-4 mr-2 animate-spin"}),s("Processing...")]}):s("Pay with MercadoPago")})]})]})}function ca({planId:r,planPrice:i,couponCode:n,billingCycle:c,paystackKey:d,currency:h,onSuccess:N,onCancel:y}){const{t:s}=O(),t=w.useRef(!1),{processPayment:f}=ge({onSuccess:N,onError:l=>_.error(l)});return w.useEffect(()=>{if(!d||t.current)return;const l=document.createElement("script");return l.src="https://js.paystack.co/v1/inline.js",l.async=!0,l.onload=()=>{t.current=!0;const o=document.querySelector("[data-radix-dialog-overlay]");o&&(o.style.display="none"),window.PaystackPop.setup({key:d,email:"user@example.com",amount:Math.round(Number(i)*100),currency:h.toUpperCase(),callback:function(v){o&&(o.style.display=""),f("paystack",{planId:r,billingCycle:c,couponCode:n,payment_id:v.reference})},onClose:function(){o&&(o.style.display=""),y()}}).openIframe()},document.head.appendChild(l),()=>{document.head.contains(l)&&document.head.removeChild(l)}},[d,r,c,n,h]),d?e.jsx("div",{className:"p-4 text-center",children:e.jsx("p",{children:s("Redirecting to Paystack...")})}):e.jsx("div",{className:"p-4 text-center text-red-500",children:s("Paystack not configured")})}function la({planId:r,planPrice:i,couponCode:n,billingCycle:c,flutterwaveKey:d,currency:h,onSuccess:N,onCancel:y}){const{t:s}=O(),t=w.useRef(!1),{processPayment:f}=ge({onSuccess:N,onError:l=>_.error(l)});return w.useEffect(()=>{if(!d||t.current)return;const l=document.createElement("script");return l.src="https://checkout.flutterwave.com/v3.js",l.async=!0,l.onload=()=>{t.current=!0,window.FlutterwaveCheckout({public_key:d,tx_ref:`plan_${r}_${Date.now()}`,amount:i,currency:h.toUpperCase(),payment_options:"card,mobilemoney,ussd",customer:{email:"user@example.com",phone_number:"",name:"Customer"},customizations:{title:"Plan Subscription",description:"Payment for subscription plan",logo:""},callback:function(o){o.status==="successful"?f("flutterwave",{planId:r,billingCycle:c,couponCode:n,payment_id:o.transaction_id,tx_ref:o.tx_ref}):(_.error(s("Payment was not completed")),y())},onclose:function(){y()}})},document.head.appendChild(l),()=>{document.head.contains(l)&&document.head.removeChild(l)}},[d,r,c,n,h]),d?e.jsx("div",{className:"p-4 text-center",children:e.jsx("p",{children:s("Redirecting to Flutterwave...")})}):e.jsx("div",{className:"p-4 text-center text-red-500",children:s("Flutterwave not configured")})}function oa({planId:r,couponCode:i,billingCycle:n,planPrice:c,paytabsClientKey:d,currency:h,onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),l=async()=>{var o,b,v,x,m,j;f(!0);try{const u={plan_id:r,billing_cycle:n,coupon_code:i||null,payment_id:`pt_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,transaction_id:`txn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,_token:(o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content")},p=await me.post(route("paytabs.payment"),u,{headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},timeout:3e4});if(p.data.success&&p.data.redirect_url)_.success(s("Redirecting to PayTabs payment page...")),setTimeout(()=>{window.location.href=p.data.redirect_url},1e3);else throw new Error(p.data.message||"Payment initialization failed")}catch(u){console.error("PayTabs payment error:",u);let p=s("Payment failed. Please try again.");((b=u.response)==null?void 0:b.status)===400?p=((v=u.response.data)==null?void 0:v.message)||s("Invalid payment request. Please check your details."):((x=u.response)==null?void 0:x.status)===500?p=s("Server error. Please try again later."):(j=(m=u.response)==null?void 0:m.data)!=null&&j.message?p=u.response.data.message:u.message?p=u.message:u.code==="ECONNABORTED"&&(p=s("Request timeout. Please try again.")),_.error(p),f(!1)}};return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("PayTabs Payment")]})}),e.jsx(I,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(te,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:s("Secure Payment with PayTabs")}),e.jsx("p",{className:"text-sm text-blue-700",children:s("You will be redirected to PayTabs secure payment page to complete your transaction.")})]})]})}),e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Plan"),":"]}),e.jsx("span",{className:"text-sm text-gray-900",children:s("Subscription Plan")})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Billing Cycle"),":"]}),e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:n})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Amount"),":"]}),e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[h," ",c]})]}),i&&e.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2 border-t",children:[e.jsxs("span",{className:"text-sm font-medium text-green-600",children:[s("Coupon Applied"),":"]}),e.jsx("span",{className:"text-sm text-green-700 font-medium",children:i})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(C,{type:"button",variant:"outline",onClick:y,className:"flex-1",disabled:t,children:s("Cancel")}),e.jsx(C,{type:"button",onClick:l,disabled:t,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),s("Pay {{amount}}",{amount:`${h} ${c}`})]})})]})]})})]})}function da({planId:r,couponCode:i,billingCycle:n,planPrice:c,skrillMerchantId:d,currency:h,onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(""),b=async v=>{if(v.preventDefault(),!l){_.error(s("Please enter your email address"));return}f(!0);try{const x={plan_id:r,billing_cycle:n,coupon_code:i||null,payment_id:`skrill_${Date.now()}`,transaction_id:`txn_${Date.now()}`,email:l};ie.post(route("skrill.payment"),x,{onSuccess:()=>{_.success(s("Payment successful!")),N()},onError:m=>{console.error("Skrill payment error:",m),_.error(s("Payment failed. Please try again."))},onFinish:()=>{f(!1)}})}catch(x){console.error("Skrill payment error:",x),_.error(s("Payment failed. Please try again.")),f(!1)}};return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"h-5 w-5"}),s("Skrill Payment")]})}),e.jsx(I,{children:e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"email",children:s("Email Address")}),e.jsx(J,{id:"email",type:"email",value:l,onChange:v=>o(v.target.value),placeholder:s("Enter your email address"),required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("You will be redirected to Skrill to complete the payment")})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(C,{type:"button",variant:"outline",onClick:y,className:"flex-1",children:s("Cancel")}),e.jsx(C,{type:"submit",disabled:t,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):s("Pay {{amount}}",{amount:`${h} ${c}`})})]})]})})]})}function ma({planId:r,couponCode:i,billingCycle:n,planPrice:c,currency:d,onSuccess:h,onCancel:N}){const{t:y}=O(),[s,t]=w.useState(!1),f=l=>{var x;l.preventDefault(),t(!0);const o=document.createElement("form");o.method="POST",o.action=route("coingate.payment");const b=(x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content");if(b){const m=document.createElement("input");m.type="hidden",m.name="_token",m.value=b,o.appendChild(m)}Object.entries({plan_id:r,billing_cycle:n,coupon_code:i||"",crypto_currency:"BTC"}).forEach(([m,j])=>{const u=document.createElement("input");u.type="hidden",u.name=m,u.value=String(j),o.appendChild(u)}),document.body.appendChild(o),o.submit()};return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"h-5 w-5 text-orange-500"}),y("CoinGate Cryptocurrency Payment")]})}),e.jsxs(I,{children:[e.jsxs(A,{className:"mb-4",children:[e.jsx(Te,{className:"h-4 w-4"}),e.jsx(R,{children:y("You will be redirected to CoinGate to complete your cryptocurrency payment securely.")})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:y("Plan")}),e.jsxs("span",{className:"text-sm",children:[y(n)," ",y("billing")]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:y("Amount")}),e.jsxs("span",{className:"text-lg font-bold",children:[d," ",c]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:y("Final cryptocurrency amount will be calculated at checkout based on current exchange rates")})]}),e.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Te,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-xs text-blue-800",children:[e.jsx("p",{className:"font-medium mb-1",children:y("Payment Process:")}),e.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[e.jsx("li",{children:y('Click "Pay with Crypto" to proceed to CoinGate')}),e.jsx("li",{children:y("Complete payment using your selected cryptocurrency")}),e.jsx("li",{children:y("You will be redirected back after payment completion")})]})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(C,{type:"button",variant:"outline",onClick:N,className:"flex-1",disabled:s,children:y("Cancel")}),e.jsx(C,{type:"submit",disabled:s,className:"flex-1 bg-orange-600 hover:bg-orange-700",children:s?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),y("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(Fe,{className:"mr-2 h-4 w-4"}),y("Pay with Crypto")]})})]})]})]})]})}function ua({planId:r,couponCode:i,billingCycle:n,planPrice:c,payfastMerchantId:d,currency:h,onSuccess:N,onCancel:y}){var j;const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState({firstName:"",lastName:"",email:""}),[b,v]=w.useState({}),x=()=>{const u={};return l.firstName.trim()||(u.firstName=s("First name is required")),l.lastName.trim()||(u.lastName=s("Last name is required")),l.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(u.email=s("Please enter a valid email address")):u.email=s("Email is required"),u},m=async u=>{var g;u.preventDefault();const p=x();if(v(p),Object.keys(p).length>0){_.error(s("Please fix the errors below"));return}if(c<5){_.error(s("Minimum payment amount is R5.00"));return}f(!0);try{const T=await(await fetch(route("payfast.payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((g=document.querySelector('meta[name="csrf-token"]'))==null?void 0:g.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:n,coupon_code:i,customer_details:l})})).json();if(T.success){const W=document.createElement("form");W.method="POST",W.action=T.action,W.innerHTML=T.inputs,document.body.appendChild(W),W.submit()}else _.error(T.error||s("Payment failed")),f(!1)}catch(M){console.error("PayFast payment error:",M),_.error(s("Payment failed. Please try again.")),f(!1)}};return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Payfast Payment")]})}),e.jsx(I,{children:e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsx("input",{type:"hidden",name:"_token",value:((j=document.querySelector('meta[name="csrf-token"]'))==null?void 0:j.getAttribute("content"))||""}),e.jsx("input",{type:"hidden",name:"plan_id",value:r}),e.jsx("input",{type:"hidden",name:"billing_cycle",value:n}),e.jsx("input",{type:"hidden",name:"coupon_code",value:i||""}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"firstName",children:s("First Name")}),e.jsx(J,{id:"firstName",name:"customer_details[firstName]",value:l.firstName,onChange:u=>{o(p=>({...p,firstName:u.target.value})),b.firstName&&v(p=>({...p,firstName:""}))},placeholder:s("Enter first name"),className:b.firstName?"border-red-500":"",required:!0}),b.firstName&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:b.firstName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"lastName",children:s("Last Name")}),e.jsx(J,{id:"lastName",name:"customer_details[lastName]",value:l.lastName,onChange:u=>{o(p=>({...p,lastName:u.target.value})),b.lastName&&v(p=>({...p,lastName:""}))},placeholder:s("Enter last name"),className:b.lastName?"border-red-500":"",required:!0}),b.lastName&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:b.lastName})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"email",children:s("Email Address")}),e.jsx(J,{id:"email",name:"customer_details[email]",type:"email",value:l.email,onChange:u=>{o(p=>({...p,email:u.target.value})),b.email&&v(p=>({...p,email:""}))},placeholder:s("Enter email address"),className:b.email?"border-red-500":"",required:!0}),b.email&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:b.email}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("You will be redirected to Payfast to complete the payment")})]}),c<5&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:s("PayFast requires a minimum payment of R5.00. Current amount: {{currency}} {{amount}}",{currency:h,amount:c})})]}),e.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:s("Amount")}),e.jsxs("span",{className:"text-sm font-bold",children:[h," ",c]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s("Secure payment processing via PayFast")})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(C,{type:"button",variant:"outline",onClick:y,className:"flex-1",children:s("Cancel")}),e.jsx(C,{type:"submit",disabled:t||c<5,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):s("Pay {{amount}}",{amount:`${h} ${c}`})})]})]})})]})}function ha({planId:r,couponCode:i,billingCycle:n,planPrice:c,toyyibpayCategoryCode:d,currency:h,onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState({name:"",email:"",phone:""}),[b,v]=w.useState({}),x=()=>{const u={};return l.name.trim()||(u.name=s("Full name is required")),l.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(u.email=s("Please enter a valid email address")):u.email=s("Email address is required"),l.phone.trim()?l.phone.length<10&&(u.phone=s("Please enter a valid Malaysian phone number")):u.phone=s("Phone number is required"),v(u),Object.keys(u).length===0},m=async u=>{var p;if(u.preventDefault(),!x()){_.error(s("Please fix the form errors"));return}f(!0),v({});try{const g={plan_id:r,billing_cycle:n,coupon_code:i||"",billName:`Plan Subscription - ${r}`,billDescription:`${n} subscription for ${l.name}`,billAmount:c,billTo:l.name.trim(),billEmail:l.email.trim(),billPhone:l.phone.trim()},M=document.createElement("form");M.method="POST",M.action=route("toyyibpay.payment");const T=document.createElement("input");T.type="hidden",T.name="_token",T.value=((p=document.querySelector('meta[name="csrf-token"]'))==null?void 0:p.getAttribute("content"))||"",M.appendChild(T),Object.entries(g).forEach(([W,X])=>{const ee=document.createElement("input");ee.type="hidden",ee.name=W,ee.value=X.toString(),M.appendChild(ee)}),document.body.appendChild(M),M.submit()}catch(g){console.error("ToyyibPay payment error:",g),_.error(s("Payment failed. Please try again.")),f(!1)}},j=u=>{const p=u.replace(/[^0-9]/g,"");return p.startsWith("60")?p.slice(0,12):p.startsWith("0")?"60"+p.slice(1,11):"60"+p.slice(0,10)};return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("toyyibPay Payment")]})}),e.jsxs(I,{children:[e.jsxs(A,{className:"mb-4",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:s("You will be redirected to toyyibPay to complete your payment securely via FPX (Malaysian Online Banking)")})]}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Y,{htmlFor:"name",children:[s("Full Name")," *"]}),e.jsx(J,{id:"name",value:l.name,onChange:u=>{o(p=>({...p,name:u.target.value})),b.name&&v(p=>({...p,name:""}))},placeholder:s("Enter your full name"),className:b.name?"border-red-500":"",required:!0}),b.name&&e.jsx("p",{className:"text-sm text-red-500",children:b.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Y,{htmlFor:"email",children:[s("Email Address")," *"]}),e.jsx(J,{id:"email",type:"email",value:l.email,onChange:u=>{o(p=>({...p,email:u.target.value})),b.email&&v(p=>({...p,email:""}))},placeholder:s("Enter your email address"),className:b.email?"border-red-500":"",required:!0}),b.email&&e.jsx("p",{className:"text-sm text-red-500",children:b.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Y,{htmlFor:"phone",children:[s("Phone Number")," *"]}),e.jsx(J,{id:"phone",value:l.phone,onChange:u=>{const p=j(u.target.value);o(g=>({...g,phone:p})),b.phone&&v(g=>({...g,phone:""}))},placeholder:"60123456789",className:b.phone?"border-red-500":"",maxLength:12,required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Malaysian format: 60123456789 (numbers only)")}),b.phone&&e.jsx("p",{className:"text-sm text-red-500",children:b.phone})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(F,{className:"h-4 w-4 text-primary"}),e.jsx("p",{className:"text-sm font-medium",children:s("Payment Method: FPX (Online Banking)")})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Secure payment via Malaysian banks including Maybank, CIMB, Public Bank, RHB, and more")})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[s("Total Amount"),":"]}),e.jsxs("span",{className:"text-lg font-bold",children:[h," ",c.toFixed(2)]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{type:"button",variant:"outline",onClick:y,className:"flex-1",disabled:t,children:s("Cancel")}),e.jsx(C,{type:"submit",disabled:t,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),s("Pay Now")]})})]})]})]})]})]})}function xa({planId:r,couponCode:i,billingCycle:n,planPrice:c,paytrMerchantId:d,currency:h,onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(!1),[b,v]=w.useState(""),x=w.useRef(null),[m,j]=w.useState({name:"",email:"",phone:"",address:""});w.useEffect(()=>{const p=g=>{g.origin==="https://www.paytr.com"&&(g.data==="success"?(o(!1),N()):g.data==="fail"&&(o(!1),_.error(s("Payment failed"))))};return window.addEventListener("message",p),()=>window.removeEventListener("message",p)},[N,s]);const u=async p=>{var g,M;if(p.preventDefault(),!m.name||!m.email||!m.phone){_.error(s("Please fill in required customer details"));return}f(!0);try{const T=await me.post(route("paytr.create-token"),{plan_id:r,billing_cycle:n,coupon_code:i,user_name:m.name,user_email:m.email,user_phone:m.phone,user_address:m.address});if(T.data.success)v(T.data.iframe_url),o(!0);else throw new Error(T.data.error||"Token creation failed")}catch(T){console.error("PayTR payment error:",T),_.error(((M=(g=T.response)==null?void 0:g.data)==null?void 0:M.error)||s("Payment failed. Please try again."))}finally{f(!1)}};return l?e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("PayTR Payment")]}),e.jsx(C,{variant:"outline",size:"sm",onClick:()=>o(!1),children:s("Back")})]})}),e.jsxs(I,{children:[e.jsx("div",{className:"w-full h-[600px] border rounded-lg overflow-hidden",children:e.jsx("iframe",{ref:x,src:b,width:"100%",height:"100%",frameBorder:"0",scrolling:"auto",title:"PayTR Payment"})}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:s("Complete your payment in the secure PayTR iframe above")})]})]}):e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("PayTR Payment")]})}),e.jsx(I,{children:e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Y,{htmlFor:"name",children:[s("Full Name")," *"]}),e.jsx(J,{id:"name",value:m.name,onChange:p=>j(g=>({...g,name:p.target.value})),placeholder:s("Enter full name"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Y,{htmlFor:"email",children:[s("Email Address")," *"]}),e.jsx(J,{id:"email",type:"email",value:m.email,onChange:p=>j(g=>({...g,email:p.target.value})),placeholder:s("Enter email address"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Y,{htmlFor:"phone",children:[s("Phone Number")," *"]}),e.jsx(J,{id:"phone",value:m.phone,onChange:p=>j(g=>({...g,phone:p.target.value})),placeholder:"+905xxxxxxxxx",required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Turkish phone number format: +905xxxxxxxxx")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"address",children:s("Address")}),e.jsx(J,{id:"address",value:m.address,onChange:p=>j(g=>({...g,address:p.target.value})),placeholder:s("Enter address (optional)")})]}),e.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium",children:s("Secure Payment via PayTR")}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s("Credit Card, Debit Card - Real-time payment processing")})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(C,{type:"button",variant:"outline",onClick:y,className:"flex-1",children:s("Cancel")}),e.jsx(C,{type:"submit",disabled:t,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):s("Pay {{amount}}",{amount:`${c} ${h}`})})]})]})})]})}function pa({planId:r,couponCode:i,billingCycle:n,planPrice:c,mollieApiKey:d,currency:h,onSuccess:N,onCancel:y}){var v;const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState({firstName:"",lastName:"",email:""}),b=x=>{if(!l.firstName||!l.lastName||!l.email){x.preventDefault(),alert(s("Please fill in all customer details"));return}f(!0)};return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Mollie Payment")]})}),e.jsx(I,{children:e.jsxs("form",{action:route("mollie.payment"),method:"POST",onSubmit:b,className:"space-y-4",children:[e.jsx("input",{type:"hidden",name:"_token",value:((v=document.querySelector('meta[name="csrf-token"]'))==null?void 0:v.getAttribute("content"))||""}),e.jsx("input",{type:"hidden",name:"plan_id",value:r}),e.jsx("input",{type:"hidden",name:"billing_cycle",value:n}),e.jsx("input",{type:"hidden",name:"coupon_code",value:i||""}),e.jsx("input",{type:"hidden",name:"payment_id",value:`mollie_${Date.now()}`}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"firstName",children:s("First Name")}),e.jsx(J,{id:"firstName",name:"customer_details[firstName]",value:l.firstName,onChange:x=>o(m=>({...m,firstName:x.target.value})),placeholder:s("Enter first name"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"lastName",children:s("Last Name")}),e.jsx(J,{id:"lastName",name:"customer_details[lastName]",value:l.lastName,onChange:x=>o(m=>({...m,lastName:x.target.value})),placeholder:s("Enter last name"),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"email",children:s("Email Address")}),e.jsx(J,{id:"email",name:"customer_details[email]",type:"email",value:l.email,onChange:x=>o(m=>({...m,email:x.target.value})),placeholder:s("Enter email address"),required:!0})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(C,{type:"button",variant:"outline",onClick:y,className:"flex-1",children:s("Cancel")}),e.jsx(C,{type:"submit",disabled:t,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):s("Pay {{amount}}",{amount:`€${c}`})})]})]})})]})}function fa({planId:r,planPrice:i,couponCode:n,billingCycle:c,cashfreeAppId:d,mode:h="sandbox",currency:N="INR",onSuccess:y,onCancel:s}){const{t}=O();w.useEffect(()=>{if(window&&window.Cashfree)return;const l=document.createElement("script");return l.src="https://sdk.cashfree.com/js/v3/cashfree.js",l.async=!0,l.onerror=()=>{_.error(t("Failed to load Cashfree SDK. Please try again."))},document.body.appendChild(l),()=>{document.body.contains(l)&&document.body.removeChild(l)}},[h]);const f=async()=>{var l,o,b;try{const v=await me.post(route("cashfree.create-session"),{plan_id:r,billing_cycle:c,coupon_code:n,_token:(l=document.querySelector('meta[name="csrf-token"]'))==null?void 0:l.getAttribute("content")});if(v.data.error){_.error(v.data.error);return}const{payment_session_id:x,order_id:m,amount:j,mode:u}=v.data;if(!x||!m){_.error(t("Invalid response from server"));return}if(!u){_.error(t("Payment mode not configured"));return}if(!window.Cashfree){_.error(t("Cashfree SDK not loaded"));return}const p=u==="production"?"PROD":"SANDBOX";try{const T=window.Cashfree({mode:p})}catch(T){_.error("Failed to initialize Cashfree: "+T.message);return}const g=window.Cashfree({mode:p}),M={paymentSessionId:x,returnUrl:window.location.origin+route("dashboard"),redirectTarget:"_modal",mode:p,style:{zIndex:99999}};g.checkout(M).then(T=>{var W,X;if(T.error){_.error(T.error.message||t("Payment failed"));return}T.paymentDetails?me.post(route("cashfree.verify-payment"),{order_id:m,cf_payment_id:(W=T.paymentDetails)==null?void 0:W.paymentId,plan_id:r,billing_cycle:c,coupon_code:n,_token:(X=document.querySelector('meta[name="csrf-token"]'))==null?void 0:X.getAttribute("content")}).then(ee=>{y()}).catch(ee=>{var re,se;const k=((se=(re=ee.response)==null?void 0:re.data)==null?void 0:se.error)||t("Payment verification failed");_.error(k)}):_.error(t("Payment status unclear"))}).catch(T=>{_.error(T.message||t("Payment initialization failed"))})}catch(v){const x=((b=(o=v.response)==null?void 0:o.data)==null?void 0:b.error)||t("Failed to initialize payment");_.error(x)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:t("You will be redirected to Cashfree to complete your payment.")}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:s,className:"flex-1",children:t("Cancel")}),e.jsx(C,{onClick:f,className:"flex-1",children:t("Pay with Cashfree")})]})]})}function ya({planId:r,planPrice:i,couponCode:n,billingCycle:c,iyzipayPublicKey:d,currency:h="USD",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),[b,v]=w.useState(null),x=async()=>{var j;if(!d){o(s("Iyzipay configuration is missing"));return}f(!0),o(null);try{const p=await(await fetch(route("iyzipay.create-form"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((j=document.querySelector('meta[name="csrf-token"]'))==null?void 0:j.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:c,coupon_code:n})})).json();if(p.success)window.location.href=p.redirect_url;else throw new Error(p.error||s("Failed to create payment form"))}catch(u){console.error("Iyzipay payment error:",u),o(u instanceof Error?u.message:s("Payment initialization failed"))}finally{f(!1)}},m=j=>new Intl.NumberFormat("en-US",{style:"currency",currency:h}).format(j);return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Iyzipay Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[l&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:m(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),t?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(S,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{children:s("Redirecting to payment page...")})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs(A,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:s("You will be redirected to Iyzipay secure payment page to complete your payment.")})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(C,{onClick:x,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),s("Pay with Iyzipay")]})})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Iyzipay - Secure payment processing")})]})]})}function ja({planId:r,planPrice:i,couponCode:n,billingCycle:c,benefitPublicKey:d,currency:h="BHD",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("Benefit payment configuration is missing"));return}f(!0),o(null);try{const j=await(await fetch(route("benefit.create-session"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:c,coupon_code:n})})).json();if(j.success)window.location.href=j.payment_url;else throw new Error(j.error||s("Failed to create payment session"))}catch(m){console.error("Benefit payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("en-BH",{style:"currency",currency:h,minimumFractionDigits:3}).format(x);return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Benefit Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[l&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs(A,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:s("You will be redirected to Benefit to complete your payment securely. Benefit is the leading payment gateway in Bahrain.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("li",{children:["• ",s("Benefit Debit Cards")]}),e.jsxs("li",{children:["• ",s("Visa Credit/Debit Cards")]}),e.jsxs("li",{children:["• ",s("Mastercard Credit/Debit Cards")]}),e.jsxs("li",{children:["• ",s("Benefit Pay Mobile Wallet")]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(C,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),s("Pay with Benefit")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Benefit - Bahrain's trusted payment gateway")})]})]})}function ba({planId:r,planPrice:i,couponCode:n,billingCycle:c,ozowSiteKey:d,currency:h="ZAR",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("Ozow not configured"));return}f(!0),o(null);try{const j=await(await fetch(route("ozow.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:c,coupon_code:n})})).json();if(j.success)window.location.href=j.payment_url;else throw new Error(j.error||s("Payment creation failed"))}catch(m){console.error("Ozow payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:h}).format(x);return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Ozow Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[l&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs(A,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:s("You will be redirected to Ozow to complete your payment securely. Ozow is South Africa's trusted instant payment gateway.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Banks")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Standard Bank"}),e.jsx("li",{children:"• FNB"}),e.jsx("li",{children:"• ABSA"}),e.jsx("li",{children:"• Nedbank"}),e.jsx("li",{children:"• Capitec Bank"}),e.jsx("li",{children:"• And more South African banks"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(C,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),s("Pay with Ozow")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Ozow - South Africa's instant payment gateway")})]})]})}function Na({planId:r,planPrice:i,couponCode:n,billingCycle:c,easebuzzMerchantKey:d,currency:h="INR",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("Easebuzz not configured"));return}f(!0),o(null);try{const j=await(await fetch(route("easebuzz.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:c,coupon_code:n})})).json();if(j.success)window.location.href=j.payment_url;else throw new Error(j.error||s("Payment creation failed"))}catch(m){console.error("Easebuzz payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("en-IN",{style:"currency",currency:h}).format(x);return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Easebuzz Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[l&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs(A,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:s("You will be redirected to Easebuzz to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• Net Banking"}),e.jsx("li",{children:"• UPI"}),e.jsx("li",{children:"• Wallets"}),e.jsx("li",{children:"• EMI Options"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(C,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),s("Pay with Easebuzz")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Easebuzz - Secure payment processing")})]})]})}function va({planId:r,planPrice:i,couponCode:n,billingCycle:c,khaltiPublicKey:d,currency:h="NPR",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var u;if(!d){o(s("Khalti not configured"));return}f(!0),o(null);try{const g=await(await fetch(route("khalti.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:c,coupon_code:n})})).json();if(g.success)v(g);else throw new Error(g.error||s("Payment creation failed"))}catch(p){console.error("Khalti payment error:",p),o(p instanceof Error?p.message:s("Payment initialization failed")),f(!1)}},v=u=>{if(window.KhaltiCheckout)x(u);else{const p=document.createElement("script");p.src="https://khalti.s3.ap-south-1.amazonaws.com/KPG/dist/2020.12.17.0.0.0/khalti-checkout.iffe.js",p.onload=()=>{x(u)},document.head.appendChild(p)}},x=u=>{const p={publicKey:u.public_key,productIdentity:u.product_identity,productName:u.product_name,productUrl:u.product_url,paymentPreference:["KHALTI","EBANKING","MOBILE_BANKING","CONNECT_IPS","SCT"],eventHandler:{onSuccess(M){m(M.token,M.amount)},onError(M){console.error("Khalti payment error:",M),o(s("Payment failed")),f(!1)},onClose(){f(!1)}}};new window.KhaltiCheckout(p).show({amount:u.amount})},m=(u,p)=>{ie.post(route("khalti.payment"),{plan_id:r,billing_cycle:c,coupon_code:n,token:u,amount:p/100},{onSuccess:()=>{_.success(s("Payment successful")),N()},onError:g=>{console.error("Payment processing error:",g),o(Object.values(g).flat().join(", ")),f(!1)}})},j=u=>new Intl.NumberFormat("en-NP",{style:"currency",currency:h}).format(u);return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Khalti Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[l&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:j(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs(A,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:s("Khalti is Nepal's most popular digital wallet and payment gateway.")})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[e.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[e.jsx("li",{children:"• Khalti Wallet"}),e.jsx("li",{children:"• eBanking"}),e.jsx("li",{children:"• Mobile Banking"}),e.jsx("li",{children:"• Connect IPS"}),e.jsx("li",{children:"• SCT Cards"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(C,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),s("Pay with Khalti")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Khalti - Nepal's digital wallet")})]})]})}function ga({planId:r,planPrice:i,couponCode:n,billingCycle:c,authorizenetMerchantId:d,currency:h="USD",isSandbox:N=!1,supportedCountries:y=["US","CA","GB","AU"],supportedCurrencies:s=["USD","CAD","CHF","DKK","EUR","GBP","NOK","PLN","SEK","AUD","NZD"],onSuccess:t,onCancel:f}){const{t:l}=O(),[o,b]=w.useState(!1),[v,x]=w.useState(null),[m,j]=w.useState({}),[u,p]=w.useState({card_number:"",expiry_month:"",expiry_year:"",cvv:"",cardholder_name:""}),g=E=>{const Z=E.replace(/\s/g,"");return/^[0-9]{13,19}$/.test(Z)},M=E=>/^(0[1-9]|1[0-2])$/.test(E),T=E=>{if(!/^[0-9]{2}$/.test(E))return!1;const Z=new Date().getFullYear()%100,Q=parseInt(E);return Q>=Z&&Q<=Z+20},W=E=>/^[0-9]{3,4}$/.test(E),X=E=>E.trim().length>=2&&E.trim().length<=50,ee=E=>{const Z=E.replace(/\s/g,""),Q=Z.match(/.{1,4}/g);return Q?Q.join(" "):Z},k=(E,Z)=>{let Q=Z;E==="card_number"?Q=ee(Z.replace(/\s/g,"").slice(0,19)):E==="expiry_month"?Q=Z.replace(/\D/g,"").slice(0,2):E==="expiry_year"?Q=Z.replace(/\D/g,"").slice(0,2):E==="cvv"&&(Q=Z.replace(/\D/g,"").slice(0,4)),p(K=>({...K,[E]:Q})),m[E]&&j(K=>({...K,[E]:""}))},re=()=>{const E={};return g(u.card_number)||(E.card_number=l("Please enter a valid card number (13-19 digits)")),M(u.expiry_month)||(E.expiry_month=l("Please enter a valid month (01-12)")),T(u.expiry_year)||(E.expiry_year=l("Please enter a valid year (current year or later)")),W(u.cvv)||(E.cvv=l("Please enter a valid CVV (3-4 digits)")),X(u.cardholder_name)||(E.cardholder_name=l("Please enter a valid cardholder name (2-50 characters)")),j(E),Object.keys(E).length===0},se=async()=>{if(!d){x(l("AuthorizeNet not configured"));return}if(!re()){x(l("Please correct the errors below"));return}b(!0),x(null),ie.post(route("authorizenet.payment"),{plan_id:r,billing_cycle:c,coupon_code:n,...u},{onSuccess:()=>{_.success(l("Payment successful")),t()},onError:E=>{console.error("Payment processing error:",E),x(Object.values(E).flat().join(", ")),b(!1)}})},ce=E=>new Intl.NumberFormat("en-US",{style:"currency",currency:h}).format(E);return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),l("AuthorizeNet Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[v&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:v})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:l("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:ce(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[l("Billing Cycle"),": ",l(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[l("Coupon Applied"),": ",n]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Y,{htmlFor:"cardholder_name",children:l("Cardholder Name")}),e.jsx(J,{id:"cardholder_name",value:u.cardholder_name,onChange:E=>k("cardholder_name",E.target.value),placeholder:l("Enter cardholder name"),className:m.cardholder_name?"border-red-500":""}),m.cardholder_name&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.cardholder_name})]}),e.jsxs("div",{children:[e.jsx(Y,{htmlFor:"card_number",children:l("Card Number")}),e.jsx(J,{id:"card_number",value:u.card_number,onChange:E=>k("card_number",E.target.value),placeholder:"1234 5678 9012 3456",maxLength:23,className:m.card_number?"border-red-500":""}),m.card_number&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.card_number})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(Y,{htmlFor:"expiry_month",children:l("Month")}),e.jsx(J,{id:"expiry_month",value:u.expiry_month,onChange:E=>k("expiry_month",E.target.value),placeholder:"MM",maxLength:2,className:m.expiry_month?"border-red-500":""}),m.expiry_month&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.expiry_month})]}),e.jsxs("div",{children:[e.jsx(Y,{htmlFor:"expiry_year",children:l("Year")}),e.jsx(J,{id:"expiry_year",value:u.expiry_year,onChange:E=>k("expiry_year",E.target.value),placeholder:"YY",maxLength:2,className:m.expiry_year?"border-red-500":""}),m.expiry_year&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.expiry_year})]}),e.jsxs("div",{children:[e.jsx(Y,{htmlFor:"cvv",children:l("CVV")}),e.jsx(J,{id:"cvv",value:u.cvv,onChange:E=>k("cvv",E.target.value),placeholder:"123",maxLength:4,className:m.cvv?"border-red-500":""}),m.cvv&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.cvv})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:f,disabled:o,className:"flex-1",children:l("Cancel")}),e.jsx(C,{onClick:se,disabled:o||!d,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),l("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),l("Pay with AuthorizeNet")]})})]}),e.jsxs("div",{className:"space-y-2",children:[N&&e.jsxs(A,{children:[e.jsx(Te,{className:"h-4 w-4"}),e.jsx(R,{children:l("Test Mode: This is a sandbox transaction. No real money will be charged.")})]}),e.jsxs("div",{className:"text-xs text-muted-foreground text-center space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(Ls,{className:"h-3 w-3 text-green-500"}),l("Powered by AuthorizeNet - Secure payment processing")]}),e.jsxs("div",{children:[l("Supported currencies"),": ",s.join(", ")]}),e.jsxs("div",{children:[l("Supported countries"),": ",y.join(", ")]})]})]})]})]})}function wa({planId:r,planPrice:i,couponCode:n,billingCycle:c,fedapayPublicKey:d,currency:h="XOF",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("FedaPay not configured"));return}f(!0),o(null);try{const j=await(await fetch(route("fedapay.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:c,coupon_code:n})})).json();if(j.success)window.location.href=j.payment_url;else throw new Error(j.error||s("Payment creation failed"))}catch(m){console.error("FedaPay payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:h}).format(x);return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("FedaPay Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[l&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs(A,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:s("You will be redirected to FedaPay to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:"• Mobile Money (MTN, Moov, Orange)"}),e.jsx("li",{children:"• Visa/Mastercard"}),e.jsx("li",{children:"• Bank Transfers"}),e.jsx("li",{children:"• Digital Wallets"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(C,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),s("Pay with FedaPay")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by FedaPay - West Africa's payment gateway")})]})]})}function Pa({planId:r,planPrice:i,couponCode:n,billingCycle:c,payhereMerchantId:d,currency:h="LKR",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("PayHere not configured"));return}f(!0),o(null);try{const j=await(await fetch(route("payhere.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:c,coupon_code:n})})).json();if(j.success){const u=document.createElement("form");u.method="POST",u.action=j.payment_url,Object.keys(j.payment_data).forEach(p=>{const g=document.createElement("input");g.type="hidden",g.name=p,g.value=j.payment_data[p],u.appendChild(g)}),document.body.appendChild(u),u.submit()}else throw new Error(j.error||s("Payment creation failed"))}catch(m){console.error("PayHere payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("en-LK",{style:"currency",currency:h}).format(x);return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("PayHere Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[l&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs(A,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:s("You will be redirected to PayHere to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[e.jsx("h4",{className:"font-medium text-orange-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-orange-800 space-y-1",children:[e.jsx("li",{children:"• Visa/Mastercard"}),e.jsx("li",{children:"• Lanka QR"}),e.jsx("li",{children:"• eZ Cash"}),e.jsx("li",{children:"• mCash"}),e.jsx("li",{children:"• Bank Transfers"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(C,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),s("Pay with PayHere")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by PayHere - Sri Lanka's payment gateway")})]})]})}function _a({planId:r,planPrice:i,couponCode:n,billingCycle:c,cinetpaySiteId:d,currency:h="XOF",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("CinetPay not configured"));return}f(!0),o(null);try{const j=await(await fetch(route("cinetpay.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:c,coupon_code:n})})).json();if(j.success){const u=document.createElement("form");u.method="POST",u.action=j.payment_url,Object.keys(j.payment_data).forEach(p=>{const g=document.createElement("input");g.type="hidden",g.name=p,g.value=j.payment_data[p],u.appendChild(g)}),document.body.appendChild(u),u.submit()}else throw new Error(j.error||s("Payment creation failed"))}catch(m){console.error("CinetPay payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:h}).format(x);return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("CinetPay Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[l&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs(A,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:s("You will be redirected to CinetPay to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[e.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[e.jsx("li",{children:"• Mobile Money (Orange, MTN, Moov)"}),e.jsx("li",{children:"• Visa/Mastercard"}),e.jsx("li",{children:"• Bank Transfers"}),e.jsx("li",{children:"• Digital Wallets"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(C,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),s("Pay with CinetPay")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by CinetPay - African payment gateway")})]})]})}function Ca({planId:r,planPrice:i,couponCode:n,billingCycle:c,paiementMerchantId:d,currency:h="XOF",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("Paiement Pro not configured"));return}f(!0),o(null);try{const j=await(await fetch(route("paiement.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:c,coupon_code:n})})).json();if(j.success){const u=document.createElement("form");u.method="POST",u.action=j.payment_url,Object.keys(j.payment_data).forEach(p=>{const g=document.createElement("input");g.type="hidden",g.name=p,g.value=j.payment_data[p],u.appendChild(g)}),document.body.appendChild(u),u.submit()}else throw new Error(j.error||s("Payment creation failed"))}catch(m){console.error("Paiement Pro payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:h}).format(x);return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Paiement Pro Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[l&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Mobile Money"}),e.jsx("li",{children:"• Bank Cards"}),e.jsx("li",{children:"• Bank Transfers"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(C,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),s("Pay with Paiement Pro")]})})]})]})]})}function ka({planId:r,planPrice:i,couponCode:n,billingCycle:c,nepalstePublicKey:d,currency:h="NPR",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("Nepalste not configured"));return}f(!0),o(null);try{const j=await(await fetch(route("nepalste.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:c,coupon_code:n})})).json();if(j.success){const u=document.createElement("form");u.method="POST",u.action=j.payment_url,Object.keys(j.payment_data).forEach(p=>{const g=document.createElement("input");g.type="hidden",g.name=p,g.value=typeof j.payment_data[p]=="object"?JSON.stringify(j.payment_data[p]):j.payment_data[p],u.appendChild(g)}),document.body.appendChild(u),u.submit()}else throw new Error(j.error||s("Payment creation failed"))}catch(m){console.error("Nepalste payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("en-NP",{style:"currency",currency:h}).format(x);return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Nepalste Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[l&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[e.jsx("h4",{className:"font-medium text-red-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[e.jsx("li",{children:"• eSewa"}),e.jsx("li",{children:"• Khalti"}),e.jsx("li",{children:"• IME Pay"}),e.jsx("li",{children:"• Bank Transfers"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(C,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),s("Pay with Nepalste")]})})]})]})]})}function Ea({planId:r,planPrice:i,couponCode:n,billingCycle:c,yookassaShopId:d,currency:h="RUB",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("YooKassa not configured"));return}f(!0),o(null);try{const j=await(await fetch(route("yookassa.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:c,coupon_code:n})})).json();if(j.success)window.location.href=j.payment_url;else throw new Error(j.error||s("Payment creation failed"))}catch(m){console.error("YooKassa payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:h}).format(x);return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("YooKassa Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[l&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[e.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[e.jsx("li",{children:"• Bank Cards"}),e.jsx("li",{children:"• YooMoney"}),e.jsx("li",{children:"• Qiwi"}),e.jsx("li",{children:"• Sberbank Online"}),e.jsx("li",{children:"• Alfa-Click"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(C,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),s("Pay with YooKassa")]})})]})]})]})}function Fa({planId:r,planPrice:i,couponCode:n,billingCycle:c,aamarpayStoreId:d,currency:h="BDT",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("Aamarpay not configured"));return}f(!0),o(null);try{const m=document.createElement("form");m.method="POST",m.action=route("aamarpay.create-payment");const j=document.createElement("input");j.type="hidden",j.name="_token",j.value=((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||"",m.appendChild(j);const u=document.createElement("input");u.type="hidden",u.name="plan_id",u.value=r.toString(),m.appendChild(u);const p=document.createElement("input");if(p.type="hidden",p.name="billing_cycle",p.value=c,m.appendChild(p),n){const g=document.createElement("input");g.type="hidden",g.name="coupon_code",g.value=n,m.appendChild(g)}document.body.appendChild(m),m.submit()}catch(m){console.error("Aamarpay payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("bn-BD",{style:"currency",currency:h}).format(x);return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Aamarpay Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[l&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:"• bKash"}),e.jsx("li",{children:"• Nagad"}),e.jsx("li",{children:"• Rocket"}),e.jsx("li",{children:"• Bank Cards"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(C,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),s("Pay with Aamarpay")]})})]})]})]})}function Ta({planId:r,planPrice:i,couponCode:n,billingCycle:c,midtransSecretKey:d,currency:h="IDR",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var u;if(!d){o(s("Midtrans not configured"));return}f(!0),o(null);try{const g=await(await fetch(route("midtrans.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:c,coupon_code:n})})).json();if(g.success)v(g.snap_token,g.order_id);else throw new Error(g.error||s("Payment creation failed"))}catch(p){console.error("Midtrans payment error:",p),o(p instanceof Error?p.message:s("Payment initialization failed")),f(!1)}},v=(u,p)=>{if(window.snap)x(u,p);else{const g=document.createElement("script");g.src="https://app.sandbox.midtrans.com/snap/snap.js",g.setAttribute("data-client-key",d),g.onload=()=>{x(u,p)},g.onerror=()=>{o(s("Failed to load Midtrans script")),f(!1)},document.head.appendChild(g)}},x=(u,p)=>{window.snap.pay(u,{onSuccess:g=>{m(g,p)},onPending:g=>{f(!1)},onError:g=>{o(s("Payment failed")),f(!1)},onClose:()=>{f(!1)}})},m=(u,p)=>{ie.post(route("midtrans.payment"),{plan_id:r,billing_cycle:c,coupon_code:n,transaction_status:u.transaction_status,order_id:p},{onSuccess:()=>{N()},onError:g=>{console.error("Payment processing error:",g),o(Object.values(g).flat().join(", ")),f(!1)}})},j=u=>new Intl.NumberFormat("id-ID",{style:"currency",currency:h}).format(u);return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Midtrans Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[l&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:j(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• Bank Transfer"}),e.jsx("li",{children:"• E-Wallets (GoPay, OVO, DANA)"}),e.jsx("li",{children:"• Convenience Stores"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(C,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),s("Pay with Midtrans")]})})]})]})]})}function Ma({planId:r,planPrice:i,couponCode:n,billingCycle:c,paymentwallPublicKey:d,currency:h="USD",onSuccess:N,onCancel:y}){var g;const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),[b,v]=w.useState(!1),[x,m]=w.useState(null),j=w.useRef(null);w.useEffect(()=>{(()=>{if(window.Brick){v(!0);return}const T=document.createElement("script");T.src="https://api.paymentwall.com/brick/build/brick-default.1.5.0.min.js",T.async=!0,T.onload=()=>{v(!0)},T.onerror=()=>{o(s("Failed to load PaymentWall payment form"))},document.head.appendChild(T)})()},[s]),w.useEffect(()=>{b&&d&&!x&&u()},[b,d,x]);const u=async()=>{var M;try{const W=await(await fetch(route("paymentwall.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((M=document.querySelector('meta[name="csrf-token"]'))==null?void 0:M.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:c,coupon_code:n})})).json();if(W.success&&W.brick_config){const X=W.brick_config,ee=new window.Brick({public_key:X.public_key,amount:X.amount,currency:X.currency,container:"paymentwall-form-container",action:route("paymentwall.process"),form:{merchant:"PaymentWall",product:X.plan_name,pay_button:s("Pay Now"),show_zip:!0,show_cardholder:!0}});ee.showPaymentForm(k=>{N()},k=>{console.error("Payment error:",k),k&&k.length>0?o(k[0].message||s("Payment failed")):o(s("Payment failed")),f(!1)}),m(ee)}else throw new Error(W.error||s("Failed to initialize payment form"))}catch(T){console.error("PaymentWall initialization error:",T),o(T instanceof Error?T.message:s("Payment initialization failed"))}},p=M=>new Intl.NumberFormat("en-US",{style:"currency",currency:h}).format(M);return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("PaymentWall Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[l&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:p(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{id:"paymentwall-form-container",ref:j,className:"min-h-[300px]",children:!b&&e.jsxs("div",{className:"flex items-center justify-center h-32",children:[e.jsx(S,{className:"h-6 w-6 animate-spin mr-2"}),e.jsx("span",{children:s("Loading payment form...")})]})}),e.jsxs("form",{id:"brick-form",style:{display:"none"},children:[e.jsx("input",{type:"hidden",name:"plan_id",value:r}),e.jsx("input",{type:"hidden",name:"billing_cycle",value:c}),e.jsx("input",{type:"hidden",name:"coupon_code",value:n||""}),e.jsx("input",{type:"hidden",name:"_token",value:((g=document.querySelector('meta[name="csrf-token"]'))==null?void 0:g.getAttribute("content"))||""})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Secure Payment")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• SSL Encrypted & PCI DSS Compliant"}),e.jsx("li",{children:"• Multiple Payment Methods Supported"}),e.jsx("li",{children:"• Powered by PaymentWall"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),!b&&e.jsxs(C,{disabled:!0,className:"flex-1",children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),s("Loading...")]})]})]})]})}function Oa({planId:r,planPrice:i,couponCode:n,billingCycle:c,sspaySecretKey:d,currency:h="MYR",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("SSPay not configured"));return}f(!0),o(null);try{const j=await(await fetch(route("sspay.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:c,coupon_code:n})})).json();if(j.success){const u=document.createElement("form");u.method="POST",u.action=j.payment_url,Object.keys(j.payment_data).forEach(p=>{const g=document.createElement("input");g.type="hidden",g.name=p,g.value=j.payment_data[p],u.appendChild(g)}),document.body.appendChild(u),u.submit()}else throw new Error(j.error||s("Payment creation failed"))}catch(m){console.error("SSPay payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:h}).format(x);return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("SSPay Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[l&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs("div",{className:"bg-teal-50 p-4 rounded-lg border border-teal-200",children:[e.jsx("h4",{className:"font-medium text-teal-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-teal-800 space-y-1",children:[e.jsx("li",{children:"• Online Banking"}),e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• E-Wallets"}),e.jsx("li",{children:"• FPX"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(C,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),s("Pay with SSPay")]})})]})]})]})}function Aa({planId:r,planPrice:i,couponCode:n,billingCycle:c,tapSecretKey:d,currency:h="USD",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("Tap not configured"));return}f(!0),o(null);try{const m=document.createElement("form");m.method="POST",m.action=route("tap.create-payment");const j=document.createElement("input");j.type="hidden",j.name="_token",j.value=((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||"",m.appendChild(j);const u=document.createElement("input");u.type="hidden",u.name="plan_id",u.value=r.toString(),m.appendChild(u);const p=document.createElement("input");if(p.type="hidden",p.name="billing_cycle",p.value=c,m.appendChild(p),n){const g=document.createElement("input");g.type="hidden",g.name="coupon_code",g.value=n,m.appendChild(g)}document.body.appendChild(m),m.submit()}catch(m){console.error("Tap payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("en-US",{style:"currency",currency:h}).format(x);return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Tap Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[l&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs(A,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:s("You will be redirected to Tap to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• Apple Pay"}),e.jsx("li",{children:"• Google Pay"}),e.jsx("li",{children:"• KNET"}),e.jsx("li",{children:"• Benefit Pay"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(C,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),s("Pay with Tap")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Tap - Secure payment processing")})]})]})}function Ra({planId:r,planPrice:i,couponCode:n,billingCycle:c,xenditApiKey:d,currency:h="PHP",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("Xendit not configured"));return}f(!0),o(null);try{const j=await(await fetch(route("xendit.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:r,billing_cycle:c,coupon_code:n})})).json();if(j.success)window.location.href=j.payment_url;else throw new Error(j.error||s("Payment creation failed"))}catch(m){console.error("Xendit payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("id-ID",{style:"currency",currency:h}).format(x);return e.jsxs(z,{children:[e.jsx(q,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),s("Xendit Payment")]})}),e.jsxs(I,{className:"space-y-4",children:[l&&e.jsxs(A,{variant:"destructive",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs(A,{children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx(R,{children:s("You will be redirected to Xendit to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• Bank Transfer"}),e.jsx("li",{children:"• E-Wallets (OVO, DANA, LinkAja)"}),e.jsx("li",{children:"• Virtual Accounts"}),e.jsx("li",{children:"• Retail Outlets"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(C,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),s("Pay with Xendit")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Xendit - Secure payment processing")})]})]})}function za({plan:r,billingCycle:i,paymentMethods:n,currencySymbol:c="$",onSuccess:d,onCancel:h}){const{t:N}=O(),[y,s]=w.useState(""),[t,f]=w.useState(""),[l,o]=w.useState(null),[b,v]=w.useState(!1),[x,m]=w.useState(!1),j=Number(r.price),u=l?l.type==="percentage"?j*l.value/100:l.value:0,p=Math.max(0,j-u),g=async()=>{var k;if(!t.trim()){_.error(N("Please enter a coupon code"));return}v(!0);try{const re=await fetch(route("coupons.validate"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((k=document.querySelector('meta[name="csrf-token"]'))==null?void 0:k.getAttribute("content"))||""},body:JSON.stringify({coupon_code:t,plan_id:r.id,amount:j})}),se=await re.json();re.ok&&se.valid?(o(se.coupon),_.success(N("Coupon applied successfully"))):(_.error(se.message||N("Invalid coupon code")),o(null))}catch{_.error(N("Failed to validate coupon")),o(null)}finally{v(!1)}},M=()=>{o(null),f("")},T=()=>{if(!y){_.error(N("Please select a payment method"));return}m(!0)},W=()=>{m(!1),s("")},X=n.filter(k=>k.enabled),ee=()=>{var re,se,ce,E,Z,Q,K,ue,ne,oe,le,a,P,H,B,xe,pe,de,Ae,Re,ze,Ie,Se,De,Be,Le,qe,Ue,Ke,$e,We,Ye,Xe,He,Je,Ve,Ge,Ze,Qe,es,ss,rs,as,ts,ns,is,cs,ls,os,ds,ms,us,hs,xs,ps,fs,ys,js,bs,Ns,vs,gs,ws,Ps;const k={planId:r.id,couponCode:t,billingCycle:i,onSuccess:d,onCancel:W};switch(y){case"stripe":return e.jsx(ra,{...k,stripeKey:((re=r.paymentMethods)==null?void 0:re.stripe_key)||""});case"paypal":return e.jsx(aa,{...k,planPrice:Number(r.price),paypalClientId:((se=r.paymentMethods)==null?void 0:se.paypal_client_id)||"",currency:((ce=r.paymentMethods)==null?void 0:ce.defaultCurrency)||"usd"});case"bank":return e.jsx(ta,{...k,planPrice:Number(r.price),bankDetails:((E=r.paymentMethods)==null?void 0:E.bank_detail)||""});case"razorpay":return e.jsx(na,{...k,planPrice:Number(r.price),razorpayKey:((Z=r.paymentMethods)==null?void 0:Z.razorpay_key)||"",currency:((Q=r.paymentMethods)==null?void 0:Q.currency)||"INR"});case"mercadopago":return e.jsx(ia,{...k,planPrice:Number(r.price),accessToken:((K=r.paymentMethods)==null?void 0:K.mercadopago_access_token)||"",currency:((ue=r.paymentMethods)==null?void 0:ue.currency)||"BRL"});case"paystack":return e.jsx(ca,{...k,planPrice:Number(r.price),paystackKey:((ne=r.paymentMethods)==null?void 0:ne.paystack_public_key)||"",currency:((oe=r.paymentMethods)==null?void 0:oe.currency)||"NGN"});case"flutterwave":return e.jsx(la,{...k,planPrice:Number(r.price),flutterwaveKey:((le=r.paymentMethods)==null?void 0:le.flutterwave_public_key)||"",currency:((a=r.paymentMethods)==null?void 0:a.currency)||"NGN"});case"paytabs":return e.jsx(oa,{...k,planPrice:Number(r.price),paytabsClientKey:"",currency:((P=r.paymentMethods)==null?void 0:P.currency)||"USD"});case"skrill":return e.jsx(da,{...k,planPrice:Number(r.price),skrillMerchantId:((H=r.paymentMethods)==null?void 0:H.skrill_merchant_id)||"",currency:((B=r.paymentMethods)==null?void 0:B.currency)||"USD"});case"coingate":return e.jsx(ma,{...k,planPrice:Number(r.price),coinGateApiToken:((xe=r.paymentMethods)==null?void 0:xe.coingate_api_token)||"",currency:((pe=r.paymentMethods)==null?void 0:pe.currency)||"USD"});case"payfast":return e.jsx(ua,{...k,planPrice:Number(r.price),payfastMerchantId:((de=r.paymentMethods)==null?void 0:de.payfast_merchant_id)||"",currency:((Ae=r.paymentMethods)==null?void 0:Ae.currency)||"ZAR"});case"toyyibpay":return e.jsx(ha,{...k,planPrice:Number(r.price),toyyibpayCategoryCode:((Re=r.paymentMethods)==null?void 0:Re.toyyibpay_category_code)||"",currency:((ze=r.paymentMethods)==null?void 0:ze.currency)||"MYR"});case"paytr":return e.jsx(xa,{...k,planPrice:Number(r.price),paytrMerchantId:((Ie=r.paymentMethods)==null?void 0:Ie.paytr_merchant_id)||"",currency:((Se=r.paymentMethods)==null?void 0:Se.currency)||"TRY"});case"mollie":return e.jsx(pa,{...k,planPrice:Number(r.price),mollieApiKey:((De=r.paymentMethods)==null?void 0:De.mollie_api_key)||"",currency:((Be=r.paymentMethods)==null?void 0:Be.currency)||"EUR"});case"cashfree":return e.jsx(fa,{...k,planPrice:Number(r.price),cashfreeAppId:((Le=r.paymentMethods)==null?void 0:Le.cashfree_public_key)||"",mode:((qe=r.paymentMethods)==null?void 0:qe.cashfree_mode)||"sandbox",currency:((Ue=r.paymentMethods)==null?void 0:Ue.currency)||"INR"});case"iyzipay":return e.jsx(ya,{...k,planPrice:Number(r.price),iyzipayPublicKey:((Ke=r.paymentMethods)==null?void 0:Ke.iyzipay_public_key)||"",currency:(($e=r.paymentMethods)==null?void 0:$e.currency)||"USD"});case"benefit":return e.jsx(ja,{...k,planPrice:Number(r.price),benefitPublicKey:((We=r.paymentMethods)==null?void 0:We.benefit_public_key)||"",currency:((Ye=r.paymentMethods)==null?void 0:Ye.currency)||"BHD"});case"ozow":return e.jsx(ba,{...k,planPrice:Number(r.price),ozowSiteKey:((Xe=r.paymentMethods)==null?void 0:Xe.ozow_site_key)||"",currency:((He=r.paymentMethods)==null?void 0:He.currency)||"ZAR"});case"easebuzz":return e.jsx(Na,{...k,planPrice:Number(r.price),easebuzzMerchantKey:((Je=r.paymentMethods)==null?void 0:Je.easebuzz_merchant_key)||"",currency:((Ve=r.paymentMethods)==null?void 0:Ve.currency)||"INR"});case"khalti":return e.jsx(va,{...k,planPrice:Number(r.price),khaltiPublicKey:((Ge=r.paymentMethods)==null?void 0:Ge.khalti_public_key)||"",currency:((Ze=r.paymentMethods)==null?void 0:Ze.currency)||"NPR"});case"authorizenet":return e.jsx(ga,{...k,planPrice:Number(r.price),authorizenetMerchantId:((Qe=r.paymentMethods)==null?void 0:Qe.authorizenet_merchant_id)||"",currency:((es=r.paymentMethods)==null?void 0:es.currency)||"USD"});case"fedapay":return e.jsx(wa,{...k,planPrice:Number(r.price),fedapayPublicKey:((ss=r.paymentMethods)==null?void 0:ss.fedapay_public_key)||"",currency:((rs=r.paymentMethods)==null?void 0:rs.currency)||"XOF"});case"payhere":return e.jsx(Pa,{...k,planPrice:Number(r.price),payhereMerchantId:((as=r.paymentMethods)==null?void 0:as.payhere_merchant_id)||"",currency:((ts=r.paymentMethods)==null?void 0:ts.currency)||"LKR"});case"cinetpay":return e.jsx(_a,{...k,planPrice:Number(r.price),cinetpaySiteId:((ns=r.paymentMethods)==null?void 0:ns.cinetpay_site_id)||"",currency:((is=r.paymentMethods)==null?void 0:is.currency)||"XOF"});case"paiement":return e.jsx(Ca,{...k,planPrice:Number(r.price),paiementMerchantId:((cs=r.paymentMethods)==null?void 0:cs.paiement_merchant_id)||"",currency:((ls=r.paymentMethods)==null?void 0:ls.currency)||"XOF"});case"nepalste":return e.jsx(ka,{...k,planPrice:Number(r.price),nepalstePublicKey:((os=r.paymentMethods)==null?void 0:os.nepalste_public_key)||"",currency:((ds=r.paymentMethods)==null?void 0:ds.currency)||"NPR"});case"yookassa":return e.jsx(Ea,{...k,planPrice:Number(r.price),yookassaShopId:((ms=r.paymentMethods)==null?void 0:ms.yookassa_shop_id)||"",currency:((us=r.paymentMethods)==null?void 0:us.currency)||"RUB"});case"aamarpay":return e.jsx(Fa,{...k,planPrice:Number(r.price),aamarpayStoreId:((hs=r.paymentMethods)==null?void 0:hs.aamarpay_store_id)||"",currency:((xs=r.paymentMethods)==null?void 0:xs.currency)||"BDT"});case"midtrans":return e.jsx(Ta,{...k,planPrice:Number(r.price),midtransSecretKey:((ps=r.paymentMethods)==null?void 0:ps.midtrans_secret_key)||"",currency:((fs=r.paymentMethods)==null?void 0:fs.currency)||"IDR"});case"paymentwall":return e.jsx(Ma,{...k,planPrice:Number(r.price),paymentwallPublicKey:((ys=r.paymentMethods)==null?void 0:ys.paymentwall_public_key)||"",currency:((js=r.paymentMethods)==null?void 0:js.currency)||"USD"});case"sspay":return e.jsx(Oa,{...k,planPrice:Number(r.price),sspaySecretKey:((bs=r.paymentMethods)==null?void 0:bs.sspay_secret_key)||"",currency:((Ns=r.paymentMethods)==null?void 0:Ns.currency)||"MYR"});case"tap":return e.jsx(Aa,{...k,planPrice:Number(r.price),tapSecretKey:((vs=r.paymentMethods)==null?void 0:vs.tap_secret_key)||"",currency:((gs=r.paymentMethods)==null?void 0:gs.currency)||"USD"});case"xendit":return e.jsx(Ra,{...k,planPrice:Number(r.price),xenditApiKey:((ws=r.paymentMethods)==null?void 0:ws.xendit_api_key)||"",currency:((Ps=r.paymentMethods)==null?void 0:Ps.currency)||"PHP"});default:return null}};return x?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium",children:N("Complete Payment")}),e.jsx(C,{variant:"outline",size:"sm",onClick:W,children:N("Back")})]}),ee()]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(z,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:r.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[N(i)," ",N("subscription")]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold",children:[c," ",r.price]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["/",N(r.duration.toLowerCase())]})]})]})})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Y,{children:N("Select Payment Method")}),X.length===0?e.jsx("p",{className:"text-sm text-muted-foreground",children:N("No payment methods available")}):e.jsx("div",{className:"space-y-2",children:X.map((k,re)=>e.jsx(z,{className:`cursor-pointer transition-colors ${y===k.id?"border-primary bg-primary/5":"hover:border-gray-300"}`,onClick:()=>s(k.id),children:e.jsx(I,{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-primary",children:k.icon}),e.jsx("span",{className:"font-medium",children:k.name}),y===k.id&&e.jsx(Bs,{variant:"secondary",className:"ml-auto",children:N("Selected")})]})})},`${k.id}-${re}`))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(Y,{htmlFor:"coupon",children:[N("Coupon Code")," (",N("Optional"),")"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(J,{id:"coupon",value:t,onChange:k=>f(k.target.value),placeholder:N("Enter coupon code"),className:"pr-10",disabled:!!l}),e.jsx(xr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"})]}),l?e.jsx(C,{type:"button",variant:"outline",onClick:M,children:N("Remove")}):e.jsx(C,{type:"button",variant:"outline",onClick:g,disabled:!t.trim()||b,children:b?e.jsx(S,{className:"h-4 w-4 animate-spin"}):N("Apply")})]}),l&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-green-700 font-medium",children:[N("Coupon Applied"),": ",l.code]}),e.jsxs("span",{className:"text-green-600",children:["-",l.type==="percentage"?`${l.value}%`:`${c}${l.value}`]})]})})]}),e.jsx(z,{children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:N("Subtotal")}),e.jsxs("span",{children:[c,j]})]}),l&&e.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[e.jsx("span",{children:N("Discount")}),e.jsxs("span",{children:["-",c,u]})]}),e.jsx("div",{className:"border-t pt-2",children:e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{children:N("Total")}),e.jsxs("span",{children:[c,p.toFixed(2)]})]})})]})})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{variant:"outline",onClick:h,className:"flex-1",children:N("Cancel")}),e.jsxs(C,{onClick:T,disabled:X.length===0,className:"flex-1",children:[N("Pay")," ",c," ",p]})]})]})}function Ia({isOpen:r,onClose:i,plan:n,billingCycle:c,paymentMethods:d,currencySymbol:h}){const{t:N}=O(),y=()=>{i(),window.location.reload()},s=d.filter(t=>t.enabled);return e.jsx(er,{open:r,onOpenChange:i,children:e.jsxs(sr,{className:"max-w-md max-h-[90vh] flex flex-col",children:[e.jsx(rr,{className:"flex-shrink-0",children:e.jsx(ar,{children:N("Subscribe to {{planName}}",{planName:n.name})})}),e.jsx("div",{className:"overflow-y-auto flex-1 pr-2",children:e.jsx(za,{plan:n,billingCycle:c,paymentMethods:s,currencySymbol:h,onSuccess:y,onCancel:i})})]})})}function Nt({plans:r,billingCycle:i="monthly",hasDefaultPlan:n,isAdmin:c=!1,currentPlan:d,userTrialUsed:h,paymentMethods:N=[],currency:y,currencySymbol:s}){const{t}=O(),{flash:f}=tr().props,[l,o]=w.useState(r),[b,v]=w.useState(i),[x,m]=w.useState(!1),[j,u]=w.useState(null),[p,g]=w.useState(!1),[M,T]=w.useState(null),{post:W,processing:X}=nr(),ee=[{title:t("Dashboard"),href:route("dashboard")},{title:t("Plan")}];w.useEffect(()=>{o(r)},[r]);const k=a=>{v(a),ie.get(route("plans.index"),{billing_cycle:a},{preserveState:!0})},re=a=>{_.loading(t("Submitting plan request...")),ie.post(route("plans.request"),{plan_id:a,billing_cycle:b},{onSuccess:P=>{var H,B;_.dismiss(),(H=P.props.flash)!=null&&H.success?_.success(t(P.props.flash.success)):(B=P.props.flash)!=null&&B.error&&_.error(t(P.props.flash.error))},onError:P=>{_.dismiss(),typeof P=="string"?_.error(t(P)):_.error(t("Failed to submit plan request: {{errors}}",{errors:Object.values(P).join(", ")}))}})},se=a=>{_.loading(t("Starting trial...")),ie.post(route("plans.trial"),{plan_id:a},{onSuccess:P=>{var H,B;_.dismiss(),(H=P.props.flash)!=null&&H.success?_.success(t(P.props.flash.success)):(B=P.props.flash)!=null&&B.error&&_.error(t(P.props.flash.error))},onError:P=>{_.dismiss(),typeof P=="string"?_.error(t(P)):_.error(t("Failed to start trial: {{errors}}",{errors:Object.values(P).join(", ")}))}})},ce=async a=>{const P=l.find(H=>H.id===a);if(P)try{const B=await(await fetch(route("payment.methods"))).json();T({...P,paymentMethods:B}),g(!0)}catch{_.error(t("Failed to load payment methods"))}},E=a=>{const P=[];return((a==null?void 0:a.is_bank_enabled)===!0||(a==null?void 0:a.is_bank_enabled)==="1")&&P.push({id:"bank",name:t("Bank Transfer"),icon:e.jsx(hr,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_stripe_enabled)===!0||(a==null?void 0:a.is_stripe_enabled)==="1")&&P.push({id:"stripe",name:t("Stripe"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_paypal_enabled)===!0||(a==null?void 0:a.is_paypal_enabled)==="1")&&P.push({id:"paypal",name:t("PayPal"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_razorpay_enabled)===!0||(a==null?void 0:a.is_razorpay_enabled)==="1")&&P.push({id:"razorpay",name:t("Razorpay"),icon:e.jsx(we,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_mercadopago_enabled)===!0||(a==null?void 0:a.is_mercadopago_enabled)==="1")&&(a!=null&&a.mercadopago_access_token)&&P.push({id:"mercadopago",name:t("MercadoPago"),icon:e.jsx(Ee,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_paystack_enabled)===!0||(a==null?void 0:a.is_paystack_enabled)==="1")&&P.push({id:"paystack",name:t("Paystack"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_flutterwave_enabled)===!0||(a==null?void 0:a.is_flutterwave_enabled)==="1")&&P.push({id:"flutterwave",name:t("Flutterwave"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_paytabs_enabled)===!0||(a==null?void 0:a.is_paytabs_enabled)==="1")&&P.push({id:"paytabs",name:t("PayTabs"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_skrill_enabled)===!0||(a==null?void 0:a.is_skrill_enabled)==="1")&&P.push({id:"skrill",name:t("Skrill"),icon:e.jsx(Ee,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_coingate_enabled)===!0||(a==null?void 0:a.is_coingate_enabled)==="1")&&P.push({id:"coingate",name:t("CoinGate"),icon:e.jsx(Fe,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_payfast_enabled)===!0||(a==null?void 0:a.is_payfast_enabled)==="1")&&P.push({id:"payfast",name:t("Payfast"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_tap_enabled)===!0||(a==null?void 0:a.is_tap_enabled)==="1")&&P.push({id:"tap",name:t("Tap"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_xendit_enabled)===!0||(a==null?void 0:a.is_xendit_enabled)==="1")&&P.push({id:"xendit",name:t("Xendit"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_paytr_enabled)===!0||(a==null?void 0:a.is_paytr_enabled)==="1")&&P.push({id:"paytr",name:t("PayTR"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_mollie_enabled)===!0||(a==null?void 0:a.is_mollie_enabled)==="1")&&P.push({id:"mollie",name:t("Mollie"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_toyyibpay_enabled)===!0||(a==null?void 0:a.is_toyyibpay_enabled)==="1")&&P.push({id:"toyyibpay",name:t("toyyibPay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_cashfree_enabled)===!0||(a==null?void 0:a.is_cashfree_enabled)==="1")&&P.push({id:"cashfree",name:t("Cashfree"),icon:e.jsx(we,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_khalti_enabled)===!0||(a==null?void 0:a.is_khalti_enabled)==="1")&&P.push({id:"khalti",name:t("Khalti"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_iyzipay_enabled)===!0||(a==null?void 0:a.is_iyzipay_enabled)==="1")&&P.push({id:"iyzipay",name:t("Iyzipay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_benefit_enabled)===!0||(a==null?void 0:a.is_benefit_enabled)==="1")&&P.push({id:"benefit",name:t("Benefit"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_ozow_enabled)===!0||(a==null?void 0:a.is_ozow_enabled)==="1")&&P.push({id:"ozow",name:t("Ozow"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_easebuzz_enabled)===!0||(a==null?void 0:a.is_easebuzz_enabled)==="1")&&P.push({id:"easebuzz",name:t("Easebuzz"),icon:e.jsx(we,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_authorizenet_enabled)===!0||(a==null?void 0:a.is_authorizenet_enabled)==="1")&&P.push({id:"authorizenet",name:t("AuthorizeNet"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_fedapay_enabled)===!0||(a==null?void 0:a.is_fedapay_enabled)==="1")&&P.push({id:"fedapay",name:t("FedaPay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_payhere_enabled)===!0||(a==null?void 0:a.is_payhere_enabled)==="1")&&P.push({id:"payhere",name:t("PayHere"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_cinetpay_enabled)===!0||(a==null?void 0:a.is_cinetpay_enabled)==="1")&&P.push({id:"cinetpay",name:t("CinetPay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_paiement_enabled)===!0||(a==null?void 0:a.is_paiement_enabled)==="1")&&P.push({id:"paiement",name:t("Paiement Pro"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_nepalste_enabled)===!0||(a==null?void 0:a.is_nepalste_enabled)==="1")&&P.push({id:"nepalste",name:t("Nepalste"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_yookassa_enabled)===!0||(a==null?void 0:a.is_yookassa_enabled)==="1")&&P.push({id:"yookassa",name:t("YooKassa"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_aamarpay_enabled)===!0||(a==null?void 0:a.is_aamarpay_enabled)==="1")&&P.push({id:"aamarpay",name:t("Aamarpay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_midtrans_enabled)===!0||(a==null?void 0:a.is_midtrans_enabled)==="1")&&P.push({id:"midtrans",name:t("Midtrans"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_paymentwall_enabled)===!0||(a==null?void 0:a.is_paymentwall_enabled)==="1")&&P.push({id:"paymentwall",name:t("PaymentWall"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),((a==null?void 0:a.is_sspay_enabled)===!0||(a==null?void 0:a.is_sspay_enabled)==="1")&&P.push({id:"sspay",name:t("SSPay"),icon:e.jsx(F,{className:"h-5 w-5"}),enabled:!0}),P},Z=a=>d&&d.id===a.id&&d.expires_at&&new Date(d.expires_at)>new Date?e.jsxs(C,{disabled:!0,className:"w-full bg-green-100 text-green-800 border-green-200",children:[e.jsx(Pe,{className:"h-4 w-4 mr-2"}),t("Already Subscribed")]}):a.is_current?e.jsxs(C,{disabled:!0,className:"w-full",children:[e.jsx(Pe,{className:"h-4 w-4 mr-2"}),t("Current Plan")]}):a.is_trial_available&&!h?e.jsxs("div",{className:"space-y-2",children:[e.jsxs(C,{onClick:()=>se(a.id),disabled:X,variant:"outline",className:"w-full",children:[e.jsx(fr,{className:"h-4 w-4 mr-2"}),t("Start {{days}} Day Trial",{days:a.trial_days})]}),e.jsx(C,{onClick:()=>ce(a.id),disabled:X,className:"w-full",children:t("Subscribe Now")})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs(C,{onClick:()=>re(a.id),disabled:X,variant:"outline",className:"w-full",children:[e.jsx(jr,{className:"h-4 w-4 mr-2"}),t("Request Plan")]}),e.jsx(C,{onClick:()=>ce(a.id),disabled:X||d&&d.id===a.id&&d.expires_at&&new Date(d.expires_at)>new Date,className:"w-full",children:d&&d.id===a.id&&d.expires_at&&new Date(d.expires_at)>new Date?t("Already Subscribed"):t("Subscribe Now")})]}),Q=(a,P)=>a.features.includes(P),K=a=>{const P=l.find(B=>B.id===a),H=!(P!=null&&P.status);_.loading(`${t(H?"Activating":"Deactivating")} plan...`),ie.post(route("plans.toggle-status",a),{},{preserveState:!0,onSuccess:B=>{var xe,pe;_.dismiss(),o(l.map(de=>de.id===a?{...de,status:!de.status}:de)),(xe=B.props.flash)!=null&&xe.success?_.success(t(B.props.flash.success)):(pe=B.props.flash)!=null&&pe.error&&_.error(t(B.props.flash.error))},onError:B=>{_.dismiss(),typeof B=="string"?_.error(t(B)):_.error(t("Failed to update plan status: {{errors}}",{errors:Object.values(B).join(", ")}))}})},ue=a=>{u(a),m(!0)},ne=()=>{j&&(_.loading(t("Deleting plan...")),ie.delete(route("plans.destroy",j.id),{onSuccess:a=>{var P,H;m(!1),u(null),_.dismiss(),(P=a.props.flash)!=null&&P.success?_.success(t(a.props.flash.success)):(H=a.props.flash)!=null&&H.error&&_.error(t(a.props.flash.error))},onError:a=>{_.dismiss(),typeof a=="string"?_.error(t(a)):_.error(t("Failed to delete plan: {{errors}}",{errors:Object.values(a).join(", ")}))}}))},oe=["AI Integration"],le={users:e.jsx(Es,{className:"h-5 w-5"}),employees:e.jsx(Es,{className:"h-5 w-5"}),storage:e.jsx(br,{className:"h-5 w-5"})};return e.jsx(Qs,{title:t("Plans"),breadcrumbs:ee,description:t("Manage subscription plans for your customers"),url:"/plans",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:t(c?"Subscription Plans":"Choose Your Plan")}),e.jsx("p",{className:"text-muted-foreground max-w-2xl",children:t(c?"Create and manage subscription plans to offer different service tiers to your customers.":"Select the perfect plan for your business needs")})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx(or,{value:b,onValueChange:a=>k(a),className:"w-full sm:w-[400px]",children:e.jsxs(dr,{className:"grid w-full grid-cols-2",children:[e.jsx(_s,{value:"monthly",children:t("Monthly")}),e.jsxs(_s,{value:"yearly",children:[t("Yearly"),e.jsx(Bs,{variant:"outline",className:"ml-2 bg-green-100 text-green-800 border-green-200",children:t("Save 20%")})]})]})}),c&&e.jsxs(C,{className:"w-full sm:w-auto",onClick:()=>ie.get(route("plans.create")),children:[e.jsx(ir,{className:"h-4 w-4 mr-2"}),t("Add Plan")]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.map(a=>e.jsxs("div",{className:`group relative h-full flex flex-col ${a.recommended?"z-10 scale-[1.02]":""}`,children:[e.jsxs("div",{className:`
                absolute inset-0 rounded-2xl 
                ${a.recommended?"bg-gradient-to-br from-primary/20 via-primary/10 to-transparent border-primary/30":"bg-gradient-to-br from-gray-100/80 via-gray-50/50 to-transparent border-gray-200/80"} 
                border shadow-lg transition-all duration-300 
                group-hover:shadow-xl group-hover:shadow-primary/5
                overflow-hidden
              `,children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full -mr-16 -mt-16 opacity-70"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-primary/10 to-transparent rounded-full -ml-12 -mb-12 opacity-50"})]}),a.recommended&&e.jsx("div",{className:"absolute -top-4 left-0 right-0 flex justify-center z-20",children:e.jsxs("div",{className:"bg-primary text-primary-foreground px-4 py-1.5 rounded-full shadow-lg flex items-center gap-1.5 text-sm font-medium",children:[e.jsx(Cs,{className:"h-4 w-4"}),t("Recommended")]})}),c&&e.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[a.is_default&&e.jsx("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:t("Default")}),e.jsxs("div",{className:`
                    flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium
                    ${a.status?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}
                  `,children:[e.jsx("span",{className:`
                      w-2 h-2 rounded-full 
                      ${a.status?"bg-emerald-500":"bg-red-500"}
                    `}),a.status?t("Active"):t("Inactive")]})]}),!c&&a.is_current&&e.jsx("div",{className:"absolute top-4 right-4 z-10",children:e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-primary/10 text-primary",children:[e.jsx(Pe,{className:"h-3 w-3"}),t("Current")]})}),e.jsxs("div",{className:"relative z-10 flex flex-col h-full p-6 pt-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:`
                    text-2xl font-bold mb-2 
                    ${a.recommended?"text-primary":""}
                  `,children:a.name}),e.jsxs("div",{className:"flex items-baseline gap-1.5 mb-3",children:[e.jsxs("span",{className:`
                      text-3xl font-extrabold 
                      ${a.recommended?"text-primary":""}
                    `,children:[s,a.price]}),e.jsxs("span",{className:"text-muted-foreground text-sm",children:["/",t(a.duration.toLowerCase())]})]}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed line-clamp-2 mb-3",children:a.description}),a.trial_days>0&&e.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-primary",children:[e.jsx(Cs,{className:"h-3.5 w-3.5"}),t("{{days}} days free trial",{days:a.trial_days})]})]}),e.jsxs("div",{className:"relative flex items-center my-4",children:[e.jsx("div",{className:"flex-grow border-t border-gray-200"}),e.jsx("div",{className:"mx-3 bg-primary/10 text-primary p-1.5 rounded-full",children:e.jsx(ks,{className:"h-4 w-4"})}),e.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),e.jsxs("div",{className:"mb-6 flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider text-muted-foreground mb-3",children:t("Features")}),e.jsx("ul",{className:"space-y-2.5",children:oe.map((P,H)=>{const B=Q(a,P);return e.jsxs("li",{className:"flex items-center gap-3",children:[B?e.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-primary/10 text-primary flex items-center justify-center",children:e.jsx(ks,{className:"h-3.5 w-3.5"})}):e.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-gray-100 text-gray-400 flex items-center justify-center",children:e.jsx(cr,{className:"h-3.5 w-3.5"})}),e.jsx("span",{className:`text-sm ${B?"font-medium":"text-muted-foreground"}`,children:t(P)})]},H)})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider text-muted-foreground mb-3",children:t("Usage Limits")}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-50 to-transparent opacity-70"}),e.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-emerald-100 text-emerald-600",children:le.users}),e.jsx("div",{className:"text-xl font-bold text-emerald-700",children:a.stats.users})]}),e.jsx("div",{className:"relative text-xs font-medium text-emerald-600 uppercase tracking-wide",children:t("Users")})]}),e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-transparent opacity-70"}),e.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-blue-100 text-blue-600",children:le.employees}),e.jsx("div",{className:"text-xl font-bold text-blue-700",children:a.stats.employees})]}),e.jsx("div",{className:"relative text-xs font-medium text-blue-600 uppercase tracking-wide",children:t("Employees")})]}),e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-50 to-transparent opacity-70"}),e.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-amber-100 text-amber-600",children:le.storage}),e.jsx("div",{className:"text-xl font-bold text-amber-700",children:a.stats.storage})]}),e.jsx("div",{className:"relative text-xs font-medium text-amber-600 uppercase tracking-wide",children:t("Storage")})]})]})]}),e.jsx("div",{className:"mt-auto pt-4 border-t border-gray-200",children:c?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lr,{checked:a.status,onCheckedChange:()=>K(a.id),className:a.status?"data-[state=checked]:bg-primary":""}),e.jsx("span",{className:"text-sm text-muted-foreground",children:a.status?t("Active"):t("Inactive")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{variant:"outline",size:"sm",className:"h-9 w-9 p-0 border-gray-200 hover:border-primary hover:text-primary",title:t("Edit"),onClick:()=>ie.get(route("plans.edit",a.id)),children:e.jsx(pr,{className:"h-4 w-4"})}),!a.is_default&&e.jsx(C,{variant:"outline",size:"sm",className:"h-9 w-9 p-0 border-gray-200 hover:border-red-400 hover:text-red-600",title:t("Delete"),onClick:()=>ue(a),children:e.jsx(yr,{className:"h-4 w-4"})})]})]}):Z(a)})]})]},a.id))}),c&&e.jsx(mr,{isOpen:x,onClose:()=>m(!1),onConfirm:ne,itemName:(j==null?void 0:j.name)||"",entityName:"plan"}),!c&&M&&e.jsx(Ia,{isOpen:p,onClose:()=>{g(!1),T(null)},plan:M,billingCycle:b,paymentMethods:E(M.paymentMethods),currencySymbol:s})]})})}export{Nt as default};
