import{j as e}from"./ui-5WRyBZNT.js";import{P as A}from"./page-template-CKIx2Cd4.js";import{u as V,c as B,b as $,C as u,l as j,m as _,k as g,L as l,I as o,n as J,r as I,t as b}from"./app-Dcb6Z4yW.js";import{S as p,a as x,b as h,c as m,d}from"./select-DeRz6PSF.js";import{C as f}from"./checkbox-B5iZmSiS.js";import{T as U}from"./tag-input-BlIGmWA5.js";import{R as F}from"./rich-text-editor-DinMX4N4.js";import{A as O}from"./arrow-left-2RHqSM1t.js";import"./textarea-LYs2mVcU.js";import"./language-WoaYFWNr.js";import"./trophy-CwLH3bof.js";import"./loader-circle-BHYyy5xm.js";import"./copy-CEvMX_m9.js";import"./CookieConsentBanner-DQyHDBeh.js";import"./switch-t9Hay6Hq.js";import"./index-CCaALC5E.js";import"./chevron-right-D-6n0McF.js";import"./credit-card-DqjaQidM.js";import"./dollar-sign-Cwr3Gu39.js";import"./users-CMrPg0xJ.js";import"./clock-bjnTPlpB.js";import"./calendar-DCWku5XV.js";import"./user-mASyYuwG.js";import"./use-favicon-DuYrl8Bg.js";import"./use-brand-theme-Bndhjp9t.js";/* empty css            *//* empty css                  */import"./utils-BkYo4WJR.js";import"./index-BdQq_4o_.js";import"./unlink-M-7GhMDo.js";import"./list-DOApis6K.js";function fe(){var P,D,T,L;const{t}=V(),{jobPosting:a,jobTypes:C,locations:N,branches:k,departments:S,customQuestions:q,companySlug:v}=B().props,{data:r,setData:n,put:M,processing:E,errors:s}=$({title:a.title||"",job_type_id:((P=a.job_type_id)==null?void 0:P.toString())||"",location_id:((D=a.location_id)==null?void 0:D.toString())||"",branch_id:((T=a.branch_id)==null?void 0:T.toString())||"",department_id:((L=a.department_id)==null?void 0:L.toString())||"",priority:a.priority||"",status:a.status||"Draft",skills:a.skills||[],positions:a.positions||1,min_experience:a.min_experience||0,max_experience:a.max_experience||"",min_salary:a.min_salary||"",max_salary:a.max_salary||"",description:a.description||"",requirements:a.requirements||"",education:a.education||"",benefits:a.benefits||"",start_date:a.start_date?new Date(a.start_date).toISOString().split("T")[0]:"",application_deadline:a.application_deadline?new Date(a.application_deadline).toISOString().split("T")[0]:"",application_type:a.application_type||"existing",application_url:a.application_type==="existing"?v?route("career.index",v):route("career.index"):a.application_url||"",code:a.code||"",custom_question:a.custom_question||[],applicant:a.applicant||[],visibility:a.visibility||[],is_featured:a.is_featured||!1}),R=i=>{i.preventDefault(),b.loading(t("Updating job posting...")),M(route("hr.recruitment.job-postings.update",a.id),{onSuccess:c=>{b.dismiss(),c.props.flash.success&&b.success(t(c.props.flash.success))},onError:c=>{b.dismiss(),typeof c=="string"?b.error(t(c)):b.error(t("Failed to update job posting"))}})},w=[{title:t("Dashboard"),href:route("dashboard")},{title:t("Recruitment"),href:route("hr.recruitment.job-postings.index")},{title:t("Campaign - Job Postings"),href:route("hr.recruitment.job-postings.index")},{title:t("Edit")}];return e.jsx(A,{title:t("Edit Campaign - Job Posting"),description:t("Edit job posting campaign details"),url:route("hr.recruitment.job-postings.edit",a.id),breadcrumbs:w,actions:[{label:t("Back to List"),icon:e.jsx(O,{className:"h-4 w-4 mr-2"}),variant:"outline",onClick:()=>I.get(route("hr.recruitment.job-postings.index"))}],children:e.jsxs("form",{onSubmit:R,className:"space-y-6",children:[e.jsxs(u,{children:[e.jsx(j,{children:e.jsx(_,{children:t("Basic Information")})}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"title",required:!0,children:t("Job Title")}),e.jsx(o,{id:"title",value:r.title,onChange:i=>n("title",i.target.value),placeholder:t("Enter job title")}),s.title&&e.jsx("p",{className:"text-sm text-red-500",children:s.title})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"job_type_id",required:!0,children:t("Job Type")}),e.jsxs(p,{value:r.job_type_id,onValueChange:i=>n("job_type_id",i),children:[e.jsx(x,{children:e.jsx(h,{placeholder:t("Select Job Type")})}),e.jsx(m,{searchable:!0,children:C==null?void 0:C.map(i=>e.jsx(d,{value:i.id.toString(),children:i.name},i.id))})]}),s.job_type_id&&e.jsx("p",{className:"text-sm text-red-500",children:s.job_type_id})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"location_id",required:!0,children:t("Location")}),e.jsxs(p,{value:r.location_id,onValueChange:i=>n("location_id",i),children:[e.jsx(x,{children:e.jsx(h,{placeholder:t("Select Location")})}),e.jsx(m,{searchable:!0,children:N==null?void 0:N.map(i=>e.jsx(d,{value:i.id.toString(),children:i.name},i.id))})]}),s.location_id&&e.jsx("p",{className:"text-sm text-red-500",children:s.location_id})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"branch_id",required:!0,children:t("Branch")}),e.jsxs(p,{value:r.branch_id,onValueChange:i=>{n("branch_id",i),n("department_id","")},children:[e.jsx(x,{children:e.jsx(h,{placeholder:t("Select Branch")})}),e.jsx(m,{searchable:!0,children:k==null?void 0:k.map(i=>e.jsx(d,{value:i.id.toString(),children:i.name},i.id))})]}),s.branch_id&&e.jsx("p",{className:"text-sm text-red-500",children:s.branch_id})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"department_id",children:t("Department")}),e.jsxs(p,{value:r.department_id,onValueChange:i=>n("department_id",i),disabled:!r.branch_id,children:[e.jsx(x,{children:e.jsx(h,{placeholder:t("Select Department")})}),e.jsx(m,{searchable:!0,children:S==null?void 0:S.filter(i=>i.branch_id===parseInt(r.branch_id)).map(i=>e.jsx(d,{value:i.id.toString(),children:i.name},i.id))})]}),s.department_id&&e.jsx("p",{className:"text-sm text-red-500",children:s.department_id})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"priority",required:!0,children:t("Priority")}),e.jsxs(p,{value:r.priority,onValueChange:i=>n("priority",i),children:[e.jsx(x,{children:e.jsx(h,{placeholder:t("Select Priority")})}),e.jsxs(m,{children:[e.jsx(d,{value:"Low",children:t("Low")}),e.jsx(d,{value:"Medium",children:t("Medium")}),e.jsx(d,{value:"High",children:t("High")})]})]}),s.priority&&e.jsx("p",{className:"text-sm text-red-500",children:s.priority})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"skills",required:!0,children:t("Required Skills")}),e.jsx(U,{value:r.skills||[],onChange:i=>n("skills",i),placeholder:t("Type Required Skills and press Enter")}),s.skills&&e.jsx("p",{className:"text-sm text-red-500",children:s.skills})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"start_date",required:!0,children:t("Start Date")}),e.jsx(o,{id:"start_date",type:"date",value:r.start_date,onChange:i=>n("start_date",i.target.value)}),s.start_date&&e.jsx("p",{className:"text-sm text-red-500",children:s.start_date})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"application_deadline",required:!0,children:t("Application Deadline")}),e.jsx(o,{id:"application_deadline",type:"date",value:r.application_deadline,onChange:i=>n("application_deadline",i.target.value)}),s.application_deadline&&e.jsx("p",{className:"text-sm text-red-500",children:s.application_deadline})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"application_type",required:!0,children:t("Job Application")}),e.jsxs(p,{value:r.application_type,onValueChange:i=>{n("application_type",i),i==="existing"?n("application_url",v?route("career.index",v):route("career.index")):n("application_url","")},children:[e.jsx(x,{children:e.jsx(h,{placeholder:t("Select Application Type")})}),e.jsxs(m,{children:[e.jsx(d,{value:"existing",children:t("Existing Link")}),e.jsx(d,{value:"custom",children:t("Custom Link")})]})]}),s.application_type&&e.jsx("p",{className:"text-sm text-red-500",children:s.application_type})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"application_url",required:!0,children:t("Application URL")}),e.jsx(o,{id:"application_url",value:r.application_url,onChange:i=>n("application_url",i.target.value),placeholder:t("Enter application URL"),disabled:r.application_type==="existing"}),s.application_url&&e.jsx("p",{className:"text-sm text-red-500",children:s.application_url})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"positions",required:!0,children:t("Number of Positions")}),e.jsx(o,{id:"positions",type:"number",min:"1",value:r.positions,onChange:i=>n("positions",parseInt(i.target.value)||1),placeholder:t("Enter number of positions")}),s.positions&&e.jsx("p",{className:"text-sm text-red-500",children:s.positions})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"status",required:!0,children:t("Status")}),e.jsxs(p,{value:r.status,onValueChange:i=>n("status",i),children:[e.jsx(x,{children:e.jsx(h,{placeholder:t("Select Status")})}),e.jsxs(m,{children:[e.jsx(d,{value:"Draft",children:t("Draft")}),e.jsx(d,{value:"Published",children:t("Published")}),e.jsx(d,{value:"Closed",children:t("Closed")})]})]}),s.status&&e.jsx("p",{className:"text-sm text-red-500",children:s.status})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{id:"is_featured",checked:r.is_featured,onCheckedChange:i=>n("is_featured",i)}),e.jsx(l,{htmlFor:"is_featured",children:t("Featured Job")})]})]})]}),e.jsxs(u,{children:[e.jsx(j,{children:e.jsx(_,{children:t("Experience & Salary")})}),e.jsx(g,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"min_experience",required:!0,children:t("Min Experience (Years)")}),e.jsx(o,{id:"min_experience",type:"number",min:"0",step:"0.1",value:r.min_experience,onChange:i=>n("min_experience",parseFloat(i.target.value)||0)}),s.min_experience&&e.jsx("p",{className:"text-sm text-red-500",children:s.min_experience})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"max_experience",required:!0,children:t("Max Experience (Years)")}),e.jsx(o,{id:"max_experience",type:"number",min:"0",step:"0.1",value:r.max_experience,onChange:i=>n("max_experience",i.target.value)}),s.max_experience&&e.jsx("p",{className:"text-sm text-red-500",children:s.max_experience})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"min_salary",required:!0,children:t("Min Salary")}),e.jsx(o,{id:"min_salary",type:"number",min:"0",step:"0.01",value:r.min_salary,onChange:i=>n("min_salary",i.target.value)}),s.min_salary&&e.jsx("p",{className:"text-sm text-red-500",children:s.min_salary})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"max_salary",required:!0,children:t("Max Salary")}),e.jsx(o,{id:"max_salary",type:"number",min:"0",step:"0.01",value:r.max_salary,onChange:i=>n("max_salary",i.target.value)}),s.max_salary&&e.jsx("p",{className:"text-sm text-red-500",children:s.max_salary})]})]})})]}),e.jsxs(u,{children:[e.jsx(j,{children:e.jsx(_,{children:t("Job Details")})}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"description",required:!0,children:t("Job Description")}),e.jsx(F,{content:r.description,onChange:i=>n("description",i),placeholder:t("Enter job description..."),className:"[&_.ProseMirror]:min-h-[150px]"}),s.description&&e.jsx("p",{className:"text-sm text-red-500",children:s.description})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"requirements",required:!0,children:t("Requirements")}),e.jsx(F,{content:r.requirements,onChange:i=>n("requirements",i),placeholder:t("Enter job requirements..."),className:"[&_.ProseMirror]:min-h-[150px]"}),s.requirements&&e.jsx("p",{className:"text-sm text-red-500",children:s.requirements})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"benefits",required:!0,children:t("Benefits")}),e.jsx(F,{content:r.benefits,onChange:i=>n("benefits",i),placeholder:t("Enter job benefits..."),className:"[&_.ProseMirror]:min-h-[120px]"}),s.benefits&&e.jsx("p",{className:"text-sm text-red-500",children:s.benefits})]})]})]}),q&&q.length>0&&e.jsxs(u,{children:[e.jsx(j,{children:e.jsx(_,{children:t("Custom Questions")})}),e.jsx(g,{className:"space-y-4",children:q.map(i=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{id:`question_${i.id}`,checked:r.custom_question.includes(i.id),onCheckedChange:c=>{c?n("custom_question",[...r.custom_question,i.id]):n("custom_question",r.custom_question.filter(y=>y!==i.id))}}),e.jsxs(l,{htmlFor:`question_${i.id}`,className:"flex-1",children:[i.question,i.required===1&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]},i.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(u,{children:[e.jsx(j,{children:e.jsx(_,{children:t("Need to Ask?")})}),e.jsx(g,{className:"space-y-4",children:[{key:"gender",label:t("Gender")},{key:"date_of_birth",label:t("Date Of Birth")}].map(i=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{id:`applicant_${i.key}`,checked:r.applicant.includes(i.key),onCheckedChange:c=>{c?n("applicant",[...r.applicant,i.key]):n("applicant",r.applicant.filter(y=>y!==i.key))}}),e.jsx(l,{htmlFor:`applicant_${i.key}`,children:i.label})]},i.key))})]}),e.jsxs(u,{children:[e.jsx(j,{children:e.jsx(_,{children:t("Need to Show Option?")})}),e.jsx(g,{className:"space-y-4",children:[{key:"cover_letter",label:t("Cover Letter")},{key:"terms_and_conditions",label:t("Terms And Conditions")}].map(i=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{id:`visibility_${i.key}`,checked:r.visibility.includes(i.key),onCheckedChange:c=>{c?n("visibility",[...r.visibility,i.key]):n("visibility",r.visibility.filter(y=>y!==i.key))}}),e.jsx(l,{htmlFor:`visibility_${i.key}`,children:i.label})]},i.key))})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(J,{type:"button",variant:"outline",onClick:()=>I.get(route("hr.recruitment.job-postings.show",a.id)),children:t("Cancel")}),e.jsx(J,{type:"submit",disabled:E,children:t(E?"Updating...":"Update Campaign - Job Posting")})]})]})})}export{fe as default};
