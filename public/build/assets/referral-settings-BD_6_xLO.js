import{j as e}from"./ui-5WRyBZNT.js";import{u as f,b as j,C as _,l as v,m as C,k as g,L as c,I as h,n as N,t as n}from"./app-Dcb6Z4yW.js";import{T as y}from"./textarea-LYs2mVcU.js";import{S as F}from"./switch-t9Hay6Hq.js";/* empty css            *//* empty css                  */import"./utils-BkYo4WJR.js";import"./index-CCaALC5E.js";function I({settings:d,currencySymbol:u,globalSettings:r}){const{t:s}=f();console.log("globalSettings ",r);const{data:t,setData:m,post:p,processing:l,errors:o}=j({is_enabled:d.is_enabled,commission_percentage:d.commission_percentage,threshold_amount:d.threshold_amount,guidelines:d.guidelines||""}),x=i=>{i.preventDefault(),r!=null&&r.is_demo||n.loading(s("Updating referral settings...")),p(route("referral.settings.update"),{onSuccess:a=>{r!=null&&r.is_demo||n.dismiss(),a.props.flash.success?n.success(s(a.props.flash.success)):a.props.flash.error&&n.error(s(a.props.flash.error))},onError:a=>{r!=null&&r.is_demo||n.dismiss(),typeof a=="string"?n.error(s(a)):n.error(s("Failed to update referral settings: {{errors}}",{errors:Object.values(a).join(", ")}))}})};return e.jsxs(_,{children:[e.jsx(v,{children:e.jsx(C,{children:s("Referral Program Settings")})}),e.jsx(g,{children:e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{id:"is_enabled",checked:t.is_enabled,onCheckedChange:i=>m("is_enabled",i)}),e.jsx(c,{htmlFor:"is_enabled",children:s("Enable Referral Program")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"commission_percentage",children:s("Commission Percentage (%)")}),e.jsx(h,{id:"commission_percentage",type:"number",step:"0.01",min:"0",max:"100",value:t.commission_percentage,onChange:i=>m("commission_percentage",i.target.value)}),o.commission_percentage&&e.jsx("p",{className:"text-sm text-red-500",children:o.commission_percentage})]}),e.jsxs("div",{children:[e.jsxs(c,{htmlFor:"threshold_amount",children:[s("Minimum Threshold Amount")," ",u]}),e.jsx(h,{id:"threshold_amount",type:"number",step:"0.01",min:"0",value:t.threshold_amount,onChange:i=>m("threshold_amount",i.target.value)}),o.threshold_amount&&e.jsx("p",{className:"text-sm text-red-500",children:o.threshold_amount})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"guidelines",children:s("Referral Guidelines")}),e.jsx(y,{id:"guidelines",value:t.guidelines,onChange:i=>m("guidelines",i.target.value),placeholder:s("Enter referral program guidelines and terms..."),rows:6}),o.guidelines&&e.jsx("p",{className:"text-sm text-red-500",children:o.guidelines})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(N,{type:"submit",disabled:l,children:s(l?"Saving...":"Save Settings")})})]})})]})}export{I as default};
