import{r as g,j as e}from"./ui-5WRyBZNT.js";import{P as N}from"./page-template-CKIx2Cd4.js";import{u as F,L as d,I as c,n as p,r as _,t as m}from"./app-Dcb6Z4yW.js";import{T as P}from"./textarea-LYs2mVcU.js";import{S as n}from"./switch-t9Hay6Hq.js";import"./select-DeRz6PSF.js";import"./index-BdQq_4o_.js";import"./index-CCaALC5E.js";import"./language-WoaYFWNr.js";import"./trophy-CwLH3bof.js";import"./loader-circle-BHYyy5xm.js";import"./copy-CEvMX_m9.js";import"./CookieConsentBanner-DQyHDBeh.js";import"./chevron-right-D-6n0McF.js";import"./credit-card-DqjaQidM.js";import"./dollar-sign-Cwr3Gu39.js";import"./users-CMrPg0xJ.js";import"./clock-bjnTPlpB.js";import"./calendar-DCWku5XV.js";import"./user-mASyYuwG.js";import"./use-favicon-DuYrl8Bg.js";import"./use-brand-theme-Bndhjp9t.js";/* empty css            *//* empty css                  */import"./utils-BkYo4WJR.js";function $({plan:s,hasDefaultPlan:y=!1,otherDefaultPlanExists:w=!1}){const{t:i}=F(),[f,h]=g.useState(!1),o=!!s,[t,u]=g.useState({name:(s==null?void 0:s.name)||"",price:(s==null?void 0:s.price)||0,yearly_price:(s==null?void 0:s.yearly_price)||void 0,duration:(s==null?void 0:s.duration)||"monthly",description:(s==null?void 0:s.description)||"",max_users:(s==null?void 0:s.max_users)||0,max_employees:(s==null?void 0:s.max_employees)||0,storage_limit:(s==null?void 0:s.storage_limit)||0,enable_chatgpt:(s==null?void 0:s.enable_chatgpt)||"off",is_trial:(s==null?void 0:s.is_trial)||null,trial_day:(s==null?void 0:s.trial_day)||0,is_plan_enable:(s==null?void 0:s.is_plan_enable)||"on",is_default:(s==null?void 0:s.is_default)||!1}),l=r=>{const{name:a,value:j}=r.target;u(C=>({...C,[a]:j}))},x=(r,a)=>{u(j=>({...j,[r]:a?"on":"off"}))},b=r=>{u(a=>({...a,is_default:r}))},v=r=>{r.preventDefault(),h(!0),o?_.put(route("plans.update",s.id),t,{onError:a=>{h(!1),m.dismiss(),typeof a=="string"?m.error(i(a)):m.error(i("Failed to update plan: {{errors}}",{errors:Object.values(a).join(", ")}))}}):_.post(route("plans.store"),t,{onError:a=>{h(!1),m.dismiss(),typeof a=="string"?m.error(i(a)):m.error(i("Failed to create plan: {{errors}}",{errors:Object.values(a).join(", ")}))}})};return e.jsx(N,{title:i(o?"Edit Plan":"Create Plan"),description:i(o?"Update subscription plan details":"Add a new subscription plan"),url:o?route("plans.update",s.id):"/plans/create",breadcrumbs:[{title:i("Dashboard"),href:route("dashboard")},{title:i("Plans"),href:route("plans.index")},{title:i(o?"Edit Plan":"Create Plan")}],children:e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"name",children:i("Plan Name")}),e.jsx(c,{id:"name",name:"name",value:t.name,onChange:l,required:!0})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"price",children:i("Monthly Price")}),e.jsx(c,{id:"price",name:"price",type:"number",step:"0.01",value:t.price,onChange:l,required:!0})]}),e.jsxs("div",{children:[e.jsxs(d,{htmlFor:"yearly_price",children:[i("Yearly Price")," ",e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",i("Optional"),")"]})]}),e.jsx(c,{id:"yearly_price",name:"yearly_price",type:"number",step:"0.01",value:t.yearly_price||"",onChange:l,placeholder:i("Leave empty for 20% discount")}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i("If left empty, yearly price will be calculated as 80% of monthly price Ã— 12")})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"description",children:i("Description")}),e.jsx(P,{id:"description",name:"description",value:t.description,onChange:l,rows:3})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"max_users",children:i("Maximum Users")}),e.jsx(c,{id:"max_users",name:"max_users",type:"number",value:t.max_users,onChange:l,required:!0})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"max_employees",children:i("Maximum Employees")}),e.jsx(c,{id:"max_employees",name:"max_employees",type:"number",value:t.max_employees,onChange:l,required:!0})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"storage_limit",children:i("Storage Limit (GB)")}),e.jsx(c,{id:"storage_limit",name:"storage_limit",type:"number",step:"0.01",value:t.storage_limit,onChange:l,required:!0})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"trial_day",children:i("Trial Days")}),e.jsx(c,{id:"trial_day",name:"trial_day",type:"number",value:t.trial_day,onChange:l})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[e.jsx("h3",{className:"font-medium",children:i("Features")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(d,{htmlFor:"enable_chatgpt",children:i("AI Integration")}),e.jsx(n,{id:"enable_chatgpt",checked:t.enable_chatgpt==="on",onCheckedChange:r=>x("enable_chatgpt",r)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(d,{htmlFor:"is_trial",children:i("Enable Trial")}),e.jsx(n,{id:"is_trial",checked:t.is_trial==="on",onCheckedChange:r=>x("is_trial",r)})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[e.jsx("h3",{className:"font-medium",children:i("Settings")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(d,{htmlFor:"is_plan_enable",children:i("Active")}),e.jsx(n,{id:"is_plan_enable",checked:t.is_plan_enable==="on",onCheckedChange:r=>x("is_plan_enable",r)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"is_default",children:i("Default Plan")}),(o?!(s!=null&&s.is_default):y)&&e.jsx("p",{className:"text-xs text-amber-600 mt-1",children:i("Setting this as default will remove default status from the current default plan.")})]}),e.jsx(n,{id:"is_default",checked:t.is_default,onCheckedChange:b})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(p,{type:"button",variant:"outline",onClick:()=>_.get(route("plans.index")),children:i("Cancel")}),e.jsx(p,{type:"submit",disabled:f,children:i(f?o?"Updating...":"Creating...":o?"Update Plan":"Create Plan")})]})]})})})}export{$ as default};
